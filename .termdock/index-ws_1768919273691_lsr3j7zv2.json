{"version":"2.2.0","timestamp":1768986449088,"fileSymbols":[["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py",[["sys",["d7d4b934a254"]],["time",["a96960705ea3"]],["os",["e38116a2fc55"]],["json",["3d88f33d18c9"]],["logging",["342f58cc6f5c"]],["Observer",["694f3be442f9"]],["FileSystemEventHandler",["10ba5f794a6a"]],["Image",["dd05ad5fabd0"]],["ImageOps",["473fa9a7a8ed"]],["ImageFilter",["e8cd41611b4c"]],["ImageEnhance",["25c521a07a84"]],["DEFAULT_CONFIG",["9a274305d23a"]],["ImageProcessor",["56e8bd5f59f9"]],["__init__",["b0e6b2a9b470","6778f672bf93","c1f86eeee854","5b34d8799237"]],["load_watermark_assets",["5cfab2e9ca92","a1bbedfa4c68"]],["proc_config",["82d9d94dfebd","82d9d94dfebd"]],["wm_config",["ad1fa72ca834","b6850f48686c"]],["frame_config",["5a464a5bd2bb"]],["process_image_pipeline",["8842707c06d5","1b8fd782dd91"]],["img",["6a740baa87b6","6a740baa87b6","847d4436c399","3fca3420dea5","6a740baa87b6"]],["max_size",["99237e890889"]],["_apply_frame",["55af84af865c","ac04a2a49b50"]],["mode",["326ca82968ec"]],["frame",["078542f10737"]],["frame_ratio",["076c53f6b5c9"]],["new_frame_size",["6cd07973df8e"]],["frame_resized",["696b44cd440a"]],["final_canvas",["61a4dcf77f38"]],["img_ratio",["6213d5f8ef9a"]],["img_filled",["542726430504"]],["img_copy",["54822dedebba"]],["pos_x",["25f8c85df78b"]],["pos_y",["cccd4db4181e"]],["_apply_watermark",["6cca18ac30e8","404345dc980a"]],["wm",["cdc39d2d49bc","2fde673d5b9b"]],["scale",["c242a013c464"]],["target_wm_width",["2b928c50769c"]],["wm_ratio",["5b36176ef89a"]],["new_wm_size",["6fc25bdc0f3e"]],["opacity",["c84dd068a19d"]],["alpha",["ffe88eb1e011","0ff8da3e5e17"]],["margin",["a281b7874138"]],["pos_config",["4f8bb6721792"]],["x",["d0d7103e63f8","d0d7103e63f8","d0d7103e63f8","6ba588f3293f","9d2ccc601e84"]],["y",["25d194918f64","25d194918f64","25d194918f64","9e3e59d8db43","588ddd241062"]],["img_rgba",["9e5544ded065"]],["Watcher",["157bed447fc5"]],["on_created",["ac849fee6b4e","dd512c764f9f"]],["filename",["16fad65afb17"]],["processed_img",["131b3f74278b"]],["save_image",["8435456ab8f8","136354cd17d4"]],["base_name",["33fc23ee5d82"]],["output_path",["e0298478e6f2"]],["update_manifest",["cdd47d40fa46","7fbb4f3c8145"]],["files",["5740cb691afa"]],["manifest_path",["05777d9bbc4d"]],["load_config",["382e5b34771a"]],["main",["b568c0b14678"]],["config",["0a8245525793"]],["source_folder",["a2e0e3b697ab"]],["dest_folder",["83b5cd545cc8"]],["processor",["09ef2eb1dec3"]],["event_handler",["74114c4500bd"]],["observer",["25d4206ae176"]]]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json",[["watch_folder",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:2:watch_folder"]],["output_folder",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:3:output_folder"]],["max_size",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:4:max_size"]],["jpeg_quality",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:5:jpeg_quality"]],["processing",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:6:processing"]],["sharpen",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:7:sharpen"]],["progressive",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:8:progressive"]],["watermark",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:9:watermark"]],["enabled",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:10:enabled","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:19:enabled"]],["mode",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:11:mode","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:21:mode"]],["image_path",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:12:image_path","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:20:image_path"]],["position",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:13:position"]],["opacity",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:14:opacity"]],["scale_percentage",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:15:scale_percentage"]],["margin",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:16:margin"]],["frame",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:18:frame"]]]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py",[["sys",["7f56a0f0659f"]],["time",["e435554faab0"]],["os",["1fd62304b496"]],["logging",["8a00a4e7bf30"]],["json",["b011154f67ae"]],["Observer",["0f879251e6c7"]],["FileSystemEventHandler",["e8f39c9fd6a9"]],["Image",["d7d89356cbee"]],["ImageOps",["670c5edb0c4a"]],["SOURCE_FOLDER",["8d6d146870cb"]],["DEST_FOLDER",["73e5243c2f0a"]],["MAX_SIZE",["45ab630136ad"]],["JPEG_QUALITY",["ab968e6a895c"]],["ImageCompressorHandler",["6bed0f6cc077"]],["on_created",["bf1525065fc1","b93b13ad72c8"]],["filename",["e1b6efc4590e"]],["process_image",["a03d49affec2","e96faab29dfe"]],["retries",["cb85db84a047"]],["img",["d8f9275fb9e0","d8f9275fb9e0"]],["base_name",["40994691b6ac"]],["output_path",["c980c2d425bd"]],["file_size_kb",["b6b6fea970dd"]],["update_manifest",["46a3834bebae","48cecf34618b"]],["files",["192da7ed683a"]],["manifest_path",["a678fea84b01"]],["main",["b738b9ab7791"]],["event_handler",["941538e18c2c"]],["observer",["4857ff688dc0"]]]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py",[["Image",["005bfbcec7d3"]],["ImageDraw",["8acdb0f478f3"]],["ImageFont",["f3d600f5f71c"]],["os",["f612bfba252c"]],["width",["f88a7b0bbc01"]],["height",["90d23b21a73e"]],["img",["f19a9c76f1a5"]],["draw",["571e05d99d1b"]],["text",["6fb0c38126a2"]],["font",["742decaf56fb","d94b75e52d69","d94b75e52d69","742decaf56fb"]],["stroke_width",["280089381c03"]],["output_path",["6f04a1ceb9e3"]]]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py",[["os",["68192f5c7af3"]],["json",["a666ef051c90"]],["shutil",["7081797faaa2"]],["logging",["919952bec71f"]],["List",["63d2f12df999"]],["Optional",["8486a6da899d"]],["datetime",["e1848844071d"]],["FastAPI",["e005cfd09d0d"]],["HTTPException",["0545f94900ed"]],["Body",["38de2fe45fb4"]],["Request",["4f72100dc115"]],["StaticFiles",["f952fa31f292"]],["HTMLResponse",["25fd03289e9f"]],["JSONResponse",["a88a9b22e18b"]],["Jinja2Templates",["542b7ecc7f9e"]],["CORSMiddleware",["b6400514742a"]],["BaseModel",["d4f657cbb950"]],["Image",["49ab67c02fd0"]],["ImageOps",["45836a40a663"]],["ImageFilter",["7f7e22fd40d8"]],["ImageEnhance",["922bb4ee02f2"]],["logger",["74396bc2cafd"]],["CONFIG",["903dfb857a52"]],["load_history",["0bf05c191007"]],["save_history",["f883aef0c86b"]],["update_history",["503a10918b7c"]],["history",["09fb73190e10","09fb73190e10"]],["processed_filename",["74f3e16aa907","74f3e16aa907"]],["get_file_history",["15cef8694696"]],["ImageProcessor",["a1352c8f667b"]],["__init__",["9ecc08319335","2aa759395e44"]],["load_assets",["8291de383f41","ff776931ddd1"]],["wm_conf",["ddab1b8abe90","ddab1b8abe90"]],["process_image",["8b22c7ac6c0b","8687fa267713"]],["img",["82d30873e32d","82d30873e32d","82d30873e32d","e45f27705b06","82d30873e32d"]],["brightness_factor",["cfcc10d74d22"]],["enhancer",["0260a4df4b43"]],["max_size",["a633a7f6f89a"]],["_apply_watermark",["4552e6566af8","4688922eea33"]],["wm",["af51227f633b","8c4b117fea06"]],["scale",["9010248eac88"]],["target_wm_width",["cec1e0fe270e"]],["wm_ratio",["ffbbf2a46141"]],["new_wm_size",["1673e25035b8"]],["opacity",["3633da0e6896"]],["alpha",["128b6e8806b2","388030c30a12"]],["margin",["dd9409f90464"]],["x",["1489b3f51f08","074cc42c98d2"]],["y",["e61740b4d685","41390672847b"]],["img_rgba",["8de9e168f09f"]],["processor",["632d26f8075c"]],["app",["815afe855213"]],["templates",["cefd06fb75ab"]],["PublishRequest",["eb2722825a5d"]],["filename",["b96a66e2f346","b96a66e2f346","b96a66e2f346","b96a66e2f346"]],["exposure",["f34793fd2bf4","f34793fd2bf4"]],["RejectRequest",["fb7785542b27"]],["BatchPublishRequest",["be5a75293f3a"]],["filenames",["2739bdd49e29"]],["ArchiveRequest",["2492e4e5c78b"]],["UnpublishRequest",["5077fab11f55"]],["update_manifest",["7ba0f452a38a"]],["folder",["426e8b89154d","426e8b89154d","426e8b89154d"]],["files",["931d1f74f10b","b16d1f162215","b16d1f162215"]],["manifest_path",["5d502150850c"]],["dashboard",["c64bfb3488a6","5d94c9349702"]],["gallery",["18138208cbe8","d965c8b5fb51"]],["get_buffer_images",["dc550f4005da","e53ef7b853ab"]],["path",["566bff22c034","566bff22c034"]],["stat",["ac4508c2e3de","ac4508c2e3de"]],["ts",["3f1d4cba7f4b","3f1d4cba7f4b"]],["hist",["bed841bbaf0a","bed841bbaf0a"]],["get_live_images",["804f0d99e94b","05609680b80f"]],["publish_image",["093ecd3032e9","bd92b97ba96a"]],["source_path",["3fea2533cd29","3fea2533cd29"]],["dest_path",["e16d72b5fc16","e16d72b5fc16"]],["batch_publish_images",["1a2cb1a65a7f","646a47ad4f52"]],["success_count",["9ae6f6107301"]],["errors",["9c0a4397a2de"]],["archive_image",["1563bdb577a7","e789d5361625"]],["src",["7b1588846042","7b1588846042"]],["dst",["c8b14148c416","c8b14148c416"]],["reject_image",["4b8285e05b5b","ccfc02980818"]],["unpublish_image",["cf79e3d6b840","d0926b749956"]],["target_filename",["8119d710278c"]],["target",["ba37c01dc32d"]],["uvicorn",["6b3bedcd47f7"]]]]],"exportIndex":[["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py",[]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py",[]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py",[]]],"aliasIndex":[["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py",[]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py",[]],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py",[]]],"qualifiedIndex":[["sys","7f56a0f0659f"],["time","e435554faab0"],["os","68192f5c7af3"],["json","a666ef051c90"],["logging","919952bec71f"],["Observer","0f879251e6c7"],["FileSystemEventHandler","e8f39c9fd6a9"],["Image","49ab67c02fd0"],["ImageOps","45836a40a663"],["ImageFilter","7f7e22fd40d8"],["ImageEnhance","922bb4ee02f2"],["DEFAULT_CONFIG","9a274305d23a"],["ImageProcessor.ImageProcessor","56e8bd5f59f9"],["__init__.__init__","5b34d8799237"],["load_watermark_assets","a1bbedfa4c68"],["proc_config","82d9d94dfebd"],["wm_config","b6850f48686c"],["frame_config","5a464a5bd2bb"],["process_image_pipeline","1b8fd782dd91"],["img","82d30873e32d"],["max_size","a633a7f6f89a"],["_apply_frame","ac04a2a49b50"],["mode","326ca82968ec"],["frame","078542f10737"],["frame_ratio","076c53f6b5c9"],["new_frame_size","6cd07973df8e"],["frame_resized","696b44cd440a"],["final_canvas","61a4dcf77f38"],["img_ratio","6213d5f8ef9a"],["img_filled","542726430504"],["img_copy","54822dedebba"],["pos_x","25f8c85df78b"],["pos_y","cccd4db4181e"],["_apply_watermark","4688922eea33"],["wm","8c4b117fea06"],["scale","9010248eac88"],["target_wm_width","cec1e0fe270e"],["wm_ratio","ffbbf2a46141"],["new_wm_size","1673e25035b8"],["opacity","3633da0e6896"],["alpha","388030c30a12"],["margin","dd9409f90464"],["pos_config","4f8bb6721792"],["x","074cc42c98d2"],["y","41390672847b"],["img_rgba","8de9e168f09f"],["Watcher","157bed447fc5"],["on_created","b93b13ad72c8"],["filename","b96a66e2f346"],["processed_img","131b3f74278b"],["save_image","136354cd17d4"],["base_name","40994691b6ac"],["output_path","6f04a1ceb9e3"],["update_manifest","7ba0f452a38a"],["files","b16d1f162215"],["manifest_path","5d502150850c"],["load_config","382e5b34771a"],["main","b738b9ab7791"],["config","0a8245525793"],["source_folder","a2e0e3b697ab"],["dest_folder","83b5cd545cc8"],["processor","632d26f8075c"],["event_handler","941538e18c2c"],["observer","4857ff688dc0"],["SOURCE_FOLDER","8d6d146870cb"],["DEST_FOLDER","73e5243c2f0a"],["MAX_SIZE","45ab630136ad"],["JPEG_QUALITY","ab968e6a895c"],["ImageCompressorHandler","6bed0f6cc077"],["process_image","8687fa267713"],["retries","cb85db84a047"],["file_size_kb","b6b6fea970dd"],["ImageDraw","8acdb0f478f3"],["ImageFont","f3d600f5f71c"],["width","f88a7b0bbc01"],["height","90d23b21a73e"],["draw","571e05d99d1b"],["text","6fb0c38126a2"],["font","742decaf56fb"],["stroke_width","280089381c03"],["shutil","7081797faaa2"],["List","63d2f12df999"],["Optional","8486a6da899d"],["datetime","e1848844071d"],["FastAPI","e005cfd09d0d"],["HTTPException","0545f94900ed"],["Body","38de2fe45fb4"],["Request","4f72100dc115"],["StaticFiles","f952fa31f292"],["HTMLResponse","25fd03289e9f"],["JSONResponse","a88a9b22e18b"],["Jinja2Templates","542b7ecc7f9e"],["CORSMiddleware","b6400514742a"],["BaseModel","d4f657cbb950"],["logger","74396bc2cafd"],["CONFIG","903dfb857a52"],["load_history","0bf05c191007"],["save_history","f883aef0c86b"],["update_history","503a10918b7c"],["history","09fb73190e10"],["processed_filename","74f3e16aa907"],["get_file_history","15cef8694696"],["ImageProcessor","a1352c8f667b"],["__init__","2aa759395e44"],["load_assets","ff776931ddd1"],["wm_conf","ddab1b8abe90"],["brightness_factor","cfcc10d74d22"],["enhancer","0260a4df4b43"],["app","815afe855213"],["templates","cefd06fb75ab"],["PublishRequest","eb2722825a5d"],["exposure","f34793fd2bf4"],["RejectRequest","fb7785542b27"],["BatchPublishRequest","be5a75293f3a"],["filenames","2739bdd49e29"],["ArchiveRequest","2492e4e5c78b"],["UnpublishRequest","5077fab11f55"],["folder","426e8b89154d"],["dashboard","5d94c9349702"],["gallery","d965c8b5fb51"],["get_buffer_images","e53ef7b853ab"],["path","566bff22c034"],["stat","ac4508c2e3de"],["ts","3f1d4cba7f4b"],["hist","bed841bbaf0a"],["get_live_images","05609680b80f"],["publish_image","bd92b97ba96a"],["source_path","3fea2533cd29"],["dest_path","e16d72b5fc16"],["batch_publish_images","646a47ad4f52"],["success_count","9ae6f6107301"],["errors","9c0a4397a2de"],["archive_image","e789d5361625"],["src","7b1588846042"],["dst","c8b14148c416"],["reject_image","ccfc02980818"],["unpublish_image","d0926b749956"],["target_filename","8119d710278c"],["target","ba37c01dc32d"],["uvicorn","6b3bedcd47f7"]],"definitionLookup":[["d7d4b934a254",{"name":"sys","type":"import","line":1,"column":0,"uniqueId":"13a6b4a640ce8939","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"sys","sid":"d7d4b934a254","loc":"cc4f867ff634","span":{"startLine":1,"startCol":0,"endLine":1,"endCol":10},"signature":{"text":"import sys","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["a96960705ea3",{"name":"time","type":"import","line":2,"column":0,"uniqueId":"0b0787a23eae28cf","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"time","sid":"a96960705ea3","loc":"1f853a9f4827","span":{"startLine":2,"startCol":0,"endLine":2,"endCol":11},"signature":{"text":"import time","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["e38116a2fc55",{"name":"os","type":"import","line":3,"column":0,"uniqueId":"7378c3de7f745636","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"os","sid":"e38116a2fc55","loc":"be42a7d0f29d","span":{"startLine":3,"startCol":0,"endLine":3,"endCol":9},"signature":{"text":"import os","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["3d88f33d18c9",{"name":"json","type":"import","line":4,"column":0,"uniqueId":"6420ab71ed0c9c0a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"json","sid":"3d88f33d18c9","loc":"4cc9030e18c3","span":{"startLine":4,"startCol":0,"endLine":4,"endCol":11},"signature":{"text":"import json","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["342f58cc6f5c",{"name":"logging","type":"import","line":5,"column":0,"uniqueId":"f2b9a2265eb18fd0","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"logging","sid":"342f58cc6f5c","loc":"4d3cc24dc560","span":{"startLine":5,"startCol":0,"endLine":5,"endCol":14},"signature":{"text":"import logging","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["694f3be442f9",{"name":"Observer","type":"import_from","line":6,"column":0,"uniqueId":"c6f7874fc308b48b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"Observer","sid":"694f3be442f9","loc":"d7489b5c0f03","span":{"startLine":6,"startCol":0,"endLine":6,"endCol":39},"signature":{"text":"from watchdog.observers import Observer","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["10ba5f794a6a",{"name":"FileSystemEventHandler","type":"import_from","line":7,"column":0,"uniqueId":"84c60c65864bfc39","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"FileSystemEventHandler","sid":"10ba5f794a6a","loc":"390b8e004694","span":{"startLine":7,"startCol":0,"endLine":7,"endCol":50},"signature":{"text":"from watchdog.events import FileSystemEventHandler","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["dd05ad5fabd0",{"name":"Image","type":"import_from","line":8,"column":0,"uniqueId":"f5fe5cfb422553d3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"Image","sid":"dd05ad5fabd0","loc":"58aa90ce487d","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["473fa9a7a8ed",{"name":"ImageOps","type":"import_from","line":8,"column":0,"uniqueId":"0922c5f7ad5dd820","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"ImageOps","sid":"473fa9a7a8ed","loc":"58aa90ce487d","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["e8cd41611b4c",{"name":"ImageFilter","type":"import_from","line":8,"column":0,"uniqueId":"008a2aea1ce33dbd","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"ImageFilter","sid":"e8cd41611b4c","loc":"58aa90ce487d","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["25c521a07a84",{"name":"ImageEnhance","type":"import_from","line":8,"column":0,"uniqueId":"19a8c508769f515a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"ImageEnhance","sid":"25c521a07a84","loc":"58aa90ce487d","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["9a274305d23a",{"name":"DEFAULT_CONFIG","type":"variable","line":11,"column":0,"uniqueId":"4c80dbe5f6a48f4a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"DEFAULT_CONFIG","sid":"9a274305d23a","loc":"38a67461c494","span":{"startLine":11,"startCol":0,"endLine":26,"endCol":1},"signature":{"text":"DEFAULT_CONFIG","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["56e8bd5f59f9",{"name":"ImageProcessor","type":"class","line":28,"column":0,"uniqueId":"97d2029f01c63920","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"ImageProcessor.ImageProcessor","sid":"56e8bd5f59f9","loc":"215940f3bd4a","span":{"startLine":28,"startCol":0,"endLine":172,"endCol":38},"signature":{"text":"ImageProcessor","arity":2},"scope":{"type":"class","name":"ImageProcessor","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":28,"endLine":28,"parent":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}}],["b0e6b2a9b470",{"name":"__init__","type":"function","line":29,"column":4,"uniqueId":"8006d2ec04dfd54f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"__init__.__init__","sid":"b0e6b2a9b470","loc":"aa781906cdc0","span":{"startLine":29,"startCol":4,"endLine":30,"endCol":28},"signature":{"text":"__init__(self, config)","arity":2},"scope":{"type":"function","name":"__init__","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":29,"endLine":29,"parent":{"type":"class","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":29,"endLine":172}}}],["6778f672bf93",{"name":"__init__","type":"method","line":29,"column":4,"uniqueId":"2c404e4364bc757c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"__init__.__init__","sid":"6778f672bf93","loc":"aa781906cdc0","span":{"startLine":29,"startCol":4,"endLine":30,"endCol":28},"signature":{"text":"__init__(self, config)","arity":2},"scope":{"type":"function","name":"__init__","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":29,"endLine":29,"parent":{"type":"class","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":29,"endLine":172}}}],["5cfab2e9ca92",{"name":"load_watermark_assets","type":"function","line":32,"column":4,"uniqueId":"49e0600f475d2169","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"load_watermark_assets","sid":"5cfab2e9ca92","loc":"27878a6bacc2","span":{"startLine":32,"startCol":4,"endLine":55,"endCol":40},"signature":{"text":"load_watermark_assets()","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["a1bbedfa4c68",{"name":"load_watermark_assets","type":"method","line":32,"column":4,"uniqueId":"1a31e1ab602dcaf0","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"load_watermark_assets","sid":"a1bbedfa4c68","loc":"27878a6bacc2","span":{"startLine":32,"startCol":4,"endLine":55,"endCol":40},"signature":{"text":"load_watermark_assets()","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["82d9d94dfebd",{"name":"proc_config","type":"variable","line":67,"column":16,"uniqueId":"7640bb16d266c8c2","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"proc_config","sid":"82d9d94dfebd","loc":"37bc19680e07","span":{"startLine":67,"startCol":16,"endLine":67,"endCol":63},"signature":{"text":"proc_config = self.config.get('processing', {})","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["ad1fa72ca834",{"name":"wm_config","type":"variable","line":40,"column":8,"uniqueId":"208ba19b414e07aa","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"wm_config","sid":"ad1fa72ca834","loc":"6b2dc9b6d4af","span":{"startLine":40,"startCol":8,"endLine":40,"endCol":52},"signature":{"text":"wm_config = proc_config.get('watermark', {})","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["5a464a5bd2bb",{"name":"frame_config","type":"variable","line":49,"column":8,"uniqueId":"de4a17fb979733fc","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"frame_config","sid":"5a464a5bd2bb","loc":"5ba23fe83b72","span":{"startLine":49,"startCol":8,"endLine":49,"endCol":51},"signature":{"text":"frame_config = proc_config.get('frame', {})","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["8842707c06d5",{"name":"process_image_pipeline","type":"function","line":57,"column":4,"uniqueId":"7bfd3c62588d9718","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"process_image_pipeline","sid":"8842707c06d5","loc":"ee0909ec4f39","span":{"startLine":57,"startCol":4,"endLine":91,"endCol":23},"signature":{"text":"process_image_pipeline()","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["1b8fd782dd91",{"name":"process_image_pipeline","type":"method","line":57,"column":4,"uniqueId":"018efc3a3abde8db","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"process_image_pipeline","sid":"1b8fd782dd91","loc":"ee0909ec4f39","span":{"startLine":57,"startCol":4,"endLine":91,"endCol":23},"signature":{"text":"process_image_pipeline()","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["6a740baa87b6",{"name":"img","type":"variable","line":85,"column":20,"uniqueId":"e5480082779e8651","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img","sid":"6a740baa87b6","loc":"08d145a6bf4d","span":{"startLine":85,"startCol":20,"endLine":85,"endCol":52},"signature":{"text":"img = self._apply_watermark(img)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["99237e890889",{"name":"max_size","type":"variable","line":68,"column":16,"uniqueId":"5e40bd89c727bd2a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"max_size","sid":"99237e890889","loc":"7c31e79f4cef","span":{"startLine":68,"startCol":16,"endLine":68,"endCol":60},"signature":{"text":"max_size = self.config.get('max_size', 1600)","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["847d4436c399",{"name":"img","type":"variable","line":73,"column":20,"uniqueId":"e5480082779e8651","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img","sid":"847d4436c399","loc":"c48bbd9d6aba","span":{"startLine":73,"startCol":20,"endLine":73,"endCol":97},"signature":{"text":"img = img.filter(ImageFilter.UnsharpMask(radius=2, percent=150, threshold=3))","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["3fca3420dea5",{"name":"img","type":"variable","line":78,"column":20,"uniqueId":"e5480082779e8651","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img","sid":"3fca3420dea5","loc":"bc24161d80e6","span":{"startLine":78,"startCol":20,"endLine":78,"endCol":58},"signature":{"text":"img = self._apply_frame(img, max_size)","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["55af84af865c",{"name":"_apply_frame","type":"function","line":93,"column":4,"uniqueId":"9712bfd9c6b01851","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"_apply_frame","sid":"55af84af865c","loc":"e473c37c3314","span":{"startLine":93,"startCol":4,"endLine":125,"endCol":27},"signature":{"text":"_apply_frame()","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["ac04a2a49b50",{"name":"_apply_frame","type":"method","line":93,"column":4,"uniqueId":"593f1073e2348ae1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"_apply_frame","sid":"ac04a2a49b50","loc":"e473c37c3314","span":{"startLine":93,"startCol":4,"endLine":125,"endCol":27},"signature":{"text":"_apply_frame()","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["326ca82968ec",{"name":"mode","type":"variable","line":95,"column":8,"uniqueId":"06a3e5f1f0dfc733","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"mode","sid":"326ca82968ec","loc":"0e40525a4f3a","span":{"startLine":95,"startCol":8,"endLine":95,"endCol":70},"signature":{"text":"mode = self.config['processing']['frame'].get('mode', 'cover')","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["078542f10737",{"name":"frame","type":"variable","line":96,"column":8,"uniqueId":"6a588e3bf39666ee","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"frame","sid":"078542f10737","loc":"51aa50e1a996","span":{"startLine":96,"startCol":8,"endLine":96,"endCol":30},"signature":{"text":"frame = self.frame_img","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["076c53f6b5c9",{"name":"frame_ratio","type":"variable","line":101,"column":8,"uniqueId":"c34b7a6604955436","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"frame_ratio","sid":"076c53f6b5c9","loc":"a42e3000e586","span":{"startLine":101,"startCol":8,"endLine":101,"endCol":51},"signature":{"text":"frame_ratio = target_size / max(frame.size)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["6cd07973df8e",{"name":"new_frame_size","type":"variable","line":102,"column":8,"uniqueId":"8f60bdfc4e5feb96","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"new_frame_size","sid":"6cd07973df8e","loc":"840ef67e3369","span":{"startLine":102,"startCol":8,"endLine":102,"endCol":90},"signature":{"text":"new_frame_size = (int(frame.width * frame_ratio), int(frame.height * frame_ratio))","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["696b44cd440a",{"name":"frame_resized","type":"variable","line":103,"column":8,"uniqueId":"2cea5f5e4d1fea70","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"frame_resized","sid":"696b44cd440a","loc":"2cd1cbd0c2cd","span":{"startLine":103,"startCol":8,"endLine":103,"endCol":78},"signature":{"text":"frame_resized = frame.resize(new_frame_size, Image.Resampling.LANCZOS)","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["61a4dcf77f38",{"name":"final_canvas","type":"variable","line":105,"column":8,"uniqueId":"7d5f5104194115b6","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"final_canvas","sid":"61a4dcf77f38","loc":"635460a4884d","span":{"startLine":105,"startCol":8,"endLine":105,"endCol":76},"signature":{"text":"final_canvas = Image.new(\"RGB\", frame_resized.size, (255, 255, 255))","arity":5},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["6213d5f8ef9a",{"name":"img_ratio","type":"variable","line":109,"column":12,"uniqueId":"6b338e3e24b533aa","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img_ratio","sid":"6213d5f8ef9a","loc":"4f353729bd97","span":{"startLine":109,"startCol":12,"endLine":109,"endCol":59},"signature":{"text":"img_ratio = max(new_frame_size) / min(img.size)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["542726430504",{"name":"img_filled","type":"variable","line":111,"column":12,"uniqueId":"665def5ab57c6be4","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img_filled","sid":"542726430504","loc":"1313e039a20a","span":{"startLine":111,"startCol":12,"endLine":111,"endCol":91},"signature":{"text":"img_filled = ImageOps.fit(img, new_frame_size, method=Image.Resampling.LANCZOS)","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["54822dedebba",{"name":"img_copy","type":"variable","line":116,"column":12,"uniqueId":"94d3a0e02aa760fe","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img_copy","sid":"54822dedebba","loc":"0793862cfc0f","span":{"startLine":116,"startCol":12,"endLine":116,"endCol":33},"signature":{"text":"img_copy = img.copy()","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["25f8c85df78b",{"name":"pos_x","type":"variable","line":119,"column":12,"uniqueId":"e1e3ffeda9a8baec","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"pos_x","sid":"25f8c85df78b","loc":"4efe70fb1ba6","span":{"startLine":119,"startCol":12,"endLine":119,"endCol":61},"signature":{"text":"pos_x = (new_frame_size[0] - img_copy.width) // 2","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["cccd4db4181e",{"name":"pos_y","type":"variable","line":120,"column":12,"uniqueId":"8a2e2ed5500a13e6","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"pos_y","sid":"cccd4db4181e","loc":"fbaf09d84d7d","span":{"startLine":120,"startCol":12,"endLine":120,"endCol":62},"signature":{"text":"pos_y = (new_frame_size[1] - img_copy.height) // 2","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["6cca18ac30e8",{"name":"_apply_watermark","type":"function","line":127,"column":4,"uniqueId":"ae5bf12fa638049a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"_apply_watermark","sid":"6cca18ac30e8","loc":"c6fe65ef9faa","span":{"startLine":127,"startCol":4,"endLine":172,"endCol":38},"signature":{"text":"_apply_watermark()","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["404345dc980a",{"name":"_apply_watermark","type":"method","line":127,"column":4,"uniqueId":"5f526993bab353cf","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"_apply_watermark","sid":"404345dc980a","loc":"c6fe65ef9faa","span":{"startLine":127,"startCol":4,"endLine":172,"endCol":38},"signature":{"text":"_apply_watermark()","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["b6850f48686c",{"name":"wm_config","type":"variable","line":129,"column":8,"uniqueId":"208ba19b414e07aa","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"wm_config","sid":"b6850f48686c","loc":"d7fce80a90f5","span":{"startLine":129,"startCol":8,"endLine":129,"endCol":58},"signature":{"text":"wm_config = self.config['processing']['watermark']","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["cdc39d2d49bc",{"name":"wm","type":"variable","line":130,"column":8,"uniqueId":"e8c54bf219c7f641","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"wm","sid":"cdc39d2d49bc","loc":"e313199cf844","span":{"startLine":130,"startCol":8,"endLine":130,"endCol":38},"signature":{"text":"wm = self.watermark_img.copy()","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["c242a013c464",{"name":"scale","type":"variable","line":133,"column":8,"uniqueId":"b2900669b5567c4b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"scale","sid":"c242a013c464","loc":"1d7b707574d0","span":{"startLine":133,"startCol":8,"endLine":133,"endCol":59},"signature":{"text":"scale = wm_config.get('scale_percentage', 20) / 100","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["2b928c50769c",{"name":"target_wm_width","type":"variable","line":134,"column":8,"uniqueId":"9417c44a5adf1e45","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"target_wm_width","sid":"2b928c50769c","loc":"6f1fc6818c9d","span":{"startLine":134,"startCol":8,"endLine":134,"endCol":52},"signature":{"text":"target_wm_width = int(min(img.size) * scale)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["5b36176ef89a",{"name":"wm_ratio","type":"variable","line":135,"column":8,"uniqueId":"ddcc7bc28fef77b9","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"wm_ratio","sid":"5b36176ef89a","loc":"45e67c63815f","span":{"startLine":135,"startCol":8,"endLine":135,"endCol":45},"signature":{"text":"wm_ratio = target_wm_width / wm.width","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["6fc25bdc0f3e",{"name":"new_wm_size","type":"variable","line":136,"column":8,"uniqueId":"0a3a87d1258b7781","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"new_wm_size","sid":"6fc25bdc0f3e","loc":"41412be1f335","span":{"startLine":136,"startCol":8,"endLine":136,"endCol":75},"signature":{"text":"new_wm_size = (int(wm.width * wm_ratio), int(wm.height * wm_ratio))","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["2fde673d5b9b",{"name":"wm","type":"variable","line":138,"column":8,"uniqueId":"e8c54bf219c7f641","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"wm","sid":"2fde673d5b9b","loc":"97a014d76cfb","span":{"startLine":138,"startCol":8,"endLine":138,"endCol":61},"signature":{"text":"wm = wm.resize(new_wm_size, Image.Resampling.LANCZOS)","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["c84dd068a19d",{"name":"opacity","type":"variable","line":141,"column":8,"uniqueId":"64ba0be97c8c43b1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"opacity","sid":"c84dd068a19d","loc":"6f964643bd40","span":{"startLine":141,"startCol":8,"endLine":141,"endCol":47},"signature":{"text":"opacity = wm_config.get('opacity', 0.8)","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["ffe88eb1e011",{"name":"alpha","type":"variable","line":143,"column":12,"uniqueId":"e97ee29b9e4e3e8e","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"alpha","sid":"ffe88eb1e011","loc":"3d19e3cd496f","span":{"startLine":143,"startCol":12,"endLine":143,"endCol":33},"signature":{"text":"alpha = wm.split()[3]","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["0ff8da3e5e17",{"name":"alpha","type":"variable","line":144,"column":12,"uniqueId":"e97ee29b9e4e3e8e","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"alpha","sid":"0ff8da3e5e17","loc":"1ea4fe6459b3","span":{"startLine":144,"startCol":12,"endLine":144,"endCol":67},"signature":{"text":"alpha = ImageEnhance.Brightness(alpha).enhance(opacity)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["a281b7874138",{"name":"margin","type":"variable","line":148,"column":8,"uniqueId":"8cfcccf41d9a9070","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"margin","sid":"a281b7874138","loc":"d144d3a0dffb","span":{"startLine":148,"startCol":8,"endLine":148,"endCol":44},"signature":{"text":"margin = wm_config.get('margin', 30)","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["4f8bb6721792",{"name":"pos_config","type":"variable","line":149,"column":8,"uniqueId":"03c5a27b3336e8c0","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"pos_config","sid":"4f8bb6721792","loc":"c72c2df69219","span":{"startLine":149,"startCol":8,"endLine":149,"endCol":62},"signature":{"text":"pos_config = wm_config.get('position', 'bottom-right')","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["d0d7103e63f8",{"name":"x","type":"variable","line":159,"column":12,"uniqueId":"bdeaaa7103a5b0d1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"x","sid":"d0d7103e63f8","loc":"e66924660943","span":{"startLine":159,"startCol":12,"endLine":159,"endCol":45},"signature":{"text":"x = img.width - wm.width - margin","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["25d194918f64",{"name":"y","type":"variable","line":160,"column":12,"uniqueId":"d8c453a92da63288","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"y","sid":"25d194918f64","loc":"2521a13537fa","span":{"startLine":160,"startCol":12,"endLine":160,"endCol":22},"signature":{"text":"y = margin","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["6ba588f3293f",{"name":"x","type":"variable","line":162,"column":12,"uniqueId":"bdeaaa7103a5b0d1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"x","sid":"6ba588f3293f","loc":"f5b66da9891d","span":{"startLine":162,"startCol":12,"endLine":162,"endCol":43},"signature":{"text":"x = (img.width - wm.width) // 2","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["9e3e59d8db43",{"name":"y","type":"variable","line":163,"column":12,"uniqueId":"d8c453a92da63288","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"y","sid":"9e3e59d8db43","loc":"7dc13ca1524f","span":{"startLine":163,"startCol":12,"endLine":163,"endCol":45},"signature":{"text":"y = (img.height - wm.height) // 2","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["9d2ccc601e84",{"name":"x","type":"variable","line":166,"column":8,"uniqueId":"bdeaaa7103a5b0d1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"x","sid":"9d2ccc601e84","loc":"64998c9bc46a","span":{"startLine":166,"startCol":8,"endLine":166,"endCol":48},"signature":{"text":"x = max(0, min(x, img.width - wm.width))","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["588ddd241062",{"name":"y","type":"variable","line":167,"column":8,"uniqueId":"d8c453a92da63288","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"y","sid":"588ddd241062","loc":"2e2c340b0f1c","span":{"startLine":167,"startCol":8,"endLine":167,"endCol":50},"signature":{"text":"y = max(0, min(y, img.height - wm.height))","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["9e5544ded065",{"name":"img_rgba","type":"variable","line":170,"column":8,"uniqueId":"4e78a0dde6d7c6fc","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"img_rgba","sid":"9e5544ded065","loc":"77ee75142af5","span":{"startLine":170,"startCol":8,"endLine":170,"endCol":38},"signature":{"text":"img_rgba = img.convert(\"RGBA\")","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["157bed447fc5",{"name":"Watcher","type":"class","line":175,"column":0,"uniqueId":"f35d80d4adc2faed","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"Watcher","sid":"157bed447fc5","loc":"fd51b2dec6a8","span":{"startLine":175,"startCol":0,"endLine":222,"endCol":16},"signature":{"text":"Watcher","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["c1f86eeee854",{"name":"__init__","type":"function","line":176,"column":4,"uniqueId":"8006d2ec04dfd54f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"__init__.__init__","sid":"c1f86eeee854","loc":"a77f2841b2b1","span":{"startLine":176,"startCol":4,"endLine":180,"endCol":38},"signature":{"text":"__init__()","arity":5},"scope":{"type":"function","name":"__init__","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":176,"endLine":176,"parent":{"type":"class","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":176,"endLine":222}}}],["5b34d8799237",{"name":"__init__","type":"method","line":176,"column":4,"uniqueId":"2c404e4364bc757c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"__init__.__init__","sid":"5b34d8799237","loc":"a77f2841b2b1","span":{"startLine":176,"startCol":4,"endLine":180,"endCol":38},"signature":{"text":"__init__()","arity":5},"scope":{"type":"function","name":"__init__","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":176,"endLine":176,"parent":{"type":"class","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":176,"endLine":222}}}],["ac849fee6b4e",{"name":"on_created","type":"function","line":182,"column":4,"uniqueId":"e93b1665ab5a0cc9","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"on_created","sid":"ac849fee6b4e","loc":"1a4b7baf555c","span":{"startLine":182,"startCol":4,"endLine":195,"endCol":38},"signature":{"text":"on_created()","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["dd512c764f9f",{"name":"on_created","type":"method","line":182,"column":4,"uniqueId":"2644908e0a2fd709","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"on_created","sid":"dd512c764f9f","loc":"1a4b7baf555c","span":{"startLine":182,"startCol":4,"endLine":195,"endCol":38},"signature":{"text":"on_created()","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["16fad65afb17",{"name":"filename","type":"variable","line":184,"column":8,"uniqueId":"22df9d5f4d491f26","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"filename","sid":"16fad65afb17","loc":"be49ae7a8f7c","span":{"startLine":184,"startCol":8,"endLine":184,"endCol":33},"signature":{"text":"filename = event.src_path","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["131b3f74278b",{"name":"processed_img","type":"variable","line":191,"column":12,"uniqueId":"536b0f5efddc7706","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"processed_img","sid":"131b3f74278b","loc":"d82014713429","span":{"startLine":191,"startCol":12,"endLine":191,"endCol":75},"signature":{"text":"processed_img = self.processor.process_image_pipeline(filename)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["8435456ab8f8",{"name":"save_image","type":"function","line":197,"column":4,"uniqueId":"be2d536a824b2004","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"save_image","sid":"8435456ab8f8","loc":"44504aec7a30","span":{"startLine":197,"startCol":4,"endLine":212,"endCol":33},"signature":{"text":"save_image()","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["136354cd17d4",{"name":"save_image","type":"method","line":197,"column":4,"uniqueId":"6cc7b466644c4862","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"save_image","sid":"136354cd17d4","loc":"44504aec7a30","span":{"startLine":197,"startCol":4,"endLine":212,"endCol":33},"signature":{"text":"save_image()","arity":3},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["33fc23ee5d82",{"name":"base_name","type":"variable","line":198,"column":8,"uniqueId":"a03781eb86f46fb1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"base_name","sid":"33fc23ee5d82","loc":"31b229038bb2","span":{"startLine":198,"startCol":8,"endLine":198,"endCol":51},"signature":{"text":"base_name = os.path.basename(original_path)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["e0298478e6f2",{"name":"output_path","type":"variable","line":200,"column":8,"uniqueId":"64b519399f539f16","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"output_path","sid":"e0298478e6f2","loc":"5e7eda94745d","span":{"startLine":200,"startCol":8,"endLine":200,"endCol":69},"signature":{"text":"output_path = os.path.join(self.output_folder, name + \".jpg\")","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["cdd47d40fa46",{"name":"update_manifest","type":"function","line":214,"column":4,"uniqueId":"9b4d0935c8e2a7ad","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"update_manifest","sid":"cdd47d40fa46","loc":"3f7a447f06f4","span":{"startLine":214,"startCol":4,"endLine":222,"endCol":16},"signature":{"text":"update_manifest()","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["7fbb4f3c8145",{"name":"update_manifest","type":"method","line":214,"column":4,"uniqueId":"664ac1cc9d220ee5","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"update_manifest","sid":"7fbb4f3c8145","loc":"3f7a447f06f4","span":{"startLine":214,"startCol":4,"endLine":222,"endCol":16},"signature":{"text":"update_manifest()","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["5740cb691afa",{"name":"files","type":"variable","line":216,"column":12,"uniqueId":"6ae269250379edf8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"files","sid":"5740cb691afa","loc":"c0f9e0a263d6","span":{"startLine":216,"startCol":12,"endLine":216,"endCol":104},"signature":{"text":"files = [f for f in os.listdir(self.output_folder) if f.lower().endswith(('.jpg', '.jpeg'))]","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["05777d9bbc4d",{"name":"manifest_path","type":"variable","line":218,"column":12,"uniqueId":"2d2d031bf8483aaf","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"manifest_path","sid":"05777d9bbc4d","loc":"3d402fe7a1fc","span":{"startLine":218,"startCol":12,"endLine":218,"endCol":77},"signature":{"text":"manifest_path = os.path.join(self.output_folder, 'manifest.json')","arity":2},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["382e5b34771a",{"name":"load_config","type":"function","line":224,"column":0,"uniqueId":"5832a617c64ccf96","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"load_config","sid":"382e5b34771a","loc":"fb159f23472a","span":{"startLine":224,"startCol":0,"endLine":229,"endCol":29},"signature":{"text":"load_config()","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["b568c0b14678",{"name":"main","type":"function","line":231,"column":0,"uniqueId":"4e8f245eceb862ea","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"main","sid":"b568c0b14678","loc":"50bf2e1c6365","span":{"startLine":231,"startCol":0,"endLine":261,"endCol":19},"signature":{"text":"main()","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["0a8245525793",{"name":"config","type":"variable","line":232,"column":4,"uniqueId":"5737425db46f051b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"config","sid":"0a8245525793","loc":"60bd6ebdaea2","span":{"startLine":232,"startCol":4,"endLine":232,"endCol":26},"signature":{"text":"config = load_config()","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["a2e0e3b697ab",{"name":"source_folder","type":"variable","line":233,"column":4,"uniqueId":"1a7abf0f7c10e28f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"source_folder","sid":"a2e0e3b697ab","loc":"1b926ef048a7","span":{"startLine":233,"startCol":4,"endLine":233,"endCol":42},"signature":{"text":"source_folder = config['watch_folder']","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["83b5cd545cc8",{"name":"dest_folder","type":"variable","line":234,"column":4,"uniqueId":"7d5d1ae6c8ce509f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"dest_folder","sid":"83b5cd545cc8","loc":"06cf7bf0538f","span":{"startLine":234,"startCol":4,"endLine":234,"endCol":41},"signature":{"text":"dest_folder = config['output_folder']","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["09ef2eb1dec3",{"name":"processor","type":"variable","line":239,"column":4,"uniqueId":"4469d872f60640c8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"processor","sid":"09ef2eb1dec3","loc":"76c8b0403922","span":{"startLine":239,"startCol":4,"endLine":239,"endCol":38},"signature":{"text":"processor = ImageProcessor(config)","arity":1},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["74114c4500bd",{"name":"event_handler","type":"variable","line":242,"column":4,"uniqueId":"80508ae546985b6d","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"event_handler","sid":"74114c4500bd","loc":"1bfb2351e0fb","span":{"startLine":242,"startCol":4,"endLine":247,"endCol":5},"signature":{"text":"event_handler = Watcher(","arity":4},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["25d4206ae176",{"name":"observer","type":"variable","line":249,"column":4,"uniqueId":"7407627a1668f0fa","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","qualifiedName":"observer","sid":"25d4206ae176","loc":"c6fcc3b426bb","span":{"startLine":249,"startCol":4,"endLine":249,"endCol":25},"signature":{"text":"observer = Observer()","arity":0},"scope":{"type":"module","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","startLine":1,"endLine":265}}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:2:watch_folder",{"name":"watch_folder","type":"property","line":2,"column":4,"uniqueId":"adfb4723262d184d","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:2:watch_folder"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:3:output_folder",{"name":"output_folder","type":"property","line":3,"column":4,"uniqueId":"30361eed25eda807","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:3:output_folder"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:4:max_size",{"name":"max_size","type":"property","line":4,"column":4,"uniqueId":"d61bba38555c27b0","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:4:max_size"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:5:jpeg_quality",{"name":"jpeg_quality","type":"property","line":5,"column":4,"uniqueId":"0f964cc1b0202b87","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:5:jpeg_quality"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:6:processing",{"name":"processing","type":"property","line":6,"column":4,"uniqueId":"d2fdae0fea60de6e","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:6:processing"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:7:sharpen",{"name":"sharpen","type":"property","line":7,"column":8,"uniqueId":"083676de78615155","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:7:sharpen"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:8:progressive",{"name":"progressive","type":"property","line":8,"column":8,"uniqueId":"9912c16285f8fabc","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:8:progressive"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:9:watermark",{"name":"watermark","type":"property","line":9,"column":8,"uniqueId":"a1bcbc6e4d6881d6","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:9:watermark"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:10:enabled",{"name":"enabled","type":"property","line":10,"column":12,"uniqueId":"fbd3547e57e1b5aa","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:10:enabled"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:11:mode",{"name":"mode","type":"property","line":11,"column":12,"uniqueId":"f5915ecc9fada1ec","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:11:mode"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:12:image_path",{"name":"image_path","type":"property","line":12,"column":12,"uniqueId":"62ae818a8dc1cb57","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:12:image_path"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:13:position",{"name":"position","type":"property","line":13,"column":12,"uniqueId":"635f2f227405edc6","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:13:position"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:14:opacity",{"name":"opacity","type":"property","line":14,"column":12,"uniqueId":"7befc32b89e58ade","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:14:opacity"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:15:scale_percentage",{"name":"scale_percentage","type":"property","line":15,"column":12,"uniqueId":"52b2dcf01d1c2015","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:15:scale_percentage"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:16:margin",{"name":"margin","type":"property","line":16,"column":12,"uniqueId":"5623c79e02ac4206","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:16:margin"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:18:frame",{"name":"frame","type":"property","line":18,"column":8,"uniqueId":"ea9f44dbfc36cd4f","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:18:frame"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:19:enabled",{"name":"enabled","type":"property","line":19,"column":12,"uniqueId":"fbd3547e57e1b5aa","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:19:enabled"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:20:image_path",{"name":"image_path","type":"property","line":20,"column":12,"uniqueId":"62ae818a8dc1cb57","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:20:image_path"}],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:21:mode",{"name":"mode","type":"property","line":21,"column":12,"uniqueId":"f5915ecc9fada1ec","sid":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:21:mode"}],["7f56a0f0659f",{"name":"sys","type":"import","line":1,"column":0,"uniqueId":"725bb2dce4fe9112","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"sys","sid":"7f56a0f0659f","loc":"82102d3e7341","span":{"startLine":1,"startCol":0,"endLine":1,"endCol":10},"signature":{"text":"import sys","arity":0}}],["e435554faab0",{"name":"time","type":"import","line":2,"column":0,"uniqueId":"c9947e0e5bdc9ee5","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"time","sid":"e435554faab0","loc":"c975861a752d","span":{"startLine":2,"startCol":0,"endLine":2,"endCol":11},"signature":{"text":"import time","arity":0}}],["1fd62304b496",{"name":"os","type":"import","line":3,"column":0,"uniqueId":"65133da5621bcef8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"os","sid":"1fd62304b496","loc":"40dbaa30f2ee","span":{"startLine":3,"startCol":0,"endLine":3,"endCol":9},"signature":{"text":"import os","arity":0}}],["8a00a4e7bf30",{"name":"logging","type":"import","line":4,"column":0,"uniqueId":"28e6b1d30a023b28","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"logging","sid":"8a00a4e7bf30","loc":"ca044edb8662","span":{"startLine":4,"startCol":0,"endLine":4,"endCol":14},"signature":{"text":"import logging","arity":0}}],["b011154f67ae",{"name":"json","type":"import","line":5,"column":0,"uniqueId":"7a1563b99f5b9fe1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"json","sid":"b011154f67ae","loc":"9d00d8ad64c1","span":{"startLine":5,"startCol":0,"endLine":5,"endCol":11},"signature":{"text":"import json","arity":0}}],["0f879251e6c7",{"name":"Observer","type":"import_from","line":6,"column":0,"uniqueId":"7fc65eb0f76e5f08","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"Observer","sid":"0f879251e6c7","loc":"2be82fcc9712","span":{"startLine":6,"startCol":0,"endLine":6,"endCol":39},"signature":{"text":"from watchdog.observers import Observer","arity":0}}],["e8f39c9fd6a9",{"name":"FileSystemEventHandler","type":"import_from","line":7,"column":0,"uniqueId":"ce0c66464887ef61","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"FileSystemEventHandler","sid":"e8f39c9fd6a9","loc":"5db964042291","span":{"startLine":7,"startCol":0,"endLine":7,"endCol":50},"signature":{"text":"from watchdog.events import FileSystemEventHandler","arity":0}}],["d7d89356cbee",{"name":"Image","type":"import_from","line":8,"column":0,"uniqueId":"91369a9ed7885caf","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"Image","sid":"d7d89356cbee","loc":"2259a4419c47","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":31},"signature":{"text":"from PIL import Image, ImageOps","arity":0}}],["670c5edb0c4a",{"name":"ImageOps","type":"import_from","line":8,"column":0,"uniqueId":"e2cc57419d379287","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"ImageOps","sid":"670c5edb0c4a","loc":"2259a4419c47","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":31},"signature":{"text":"from PIL import Image, ImageOps","arity":0}}],["8d6d146870cb",{"name":"SOURCE_FOLDER","type":"variable","line":12,"column":0,"uniqueId":"a041e3d45e5658db","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"SOURCE_FOLDER","sid":"8d6d146870cb","loc":"747960889844","span":{"startLine":12,"startCol":0,"endLine":12,"endCol":36},"signature":{"text":"SOURCE_FOLDER = r\"./photos_original\"","arity":0}}],["73e5243c2f0a",{"name":"DEST_FOLDER","type":"variable","line":14,"column":0,"uniqueId":"cd336a6a33b1c6c2","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"DEST_FOLDER","sid":"73e5243c2f0a","loc":"b16eaaac387a","span":{"startLine":14,"startCol":0,"endLine":14,"endCol":29},"signature":{"text":"DEST_FOLDER = r\"./photos_web\"","arity":0}}],["45ab630136ad",{"name":"MAX_SIZE","type":"variable","line":17,"column":0,"uniqueId":"0a4edb046d98579b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"MAX_SIZE","sid":"45ab630136ad","loc":"619a3fad3b1d","span":{"startLine":17,"startCol":0,"endLine":17,"endCol":23},"signature":{"text":"MAX_SIZE = (1600, 1600)","arity":2}}],["ab968e6a895c",{"name":"JPEG_QUALITY","type":"variable","line":18,"column":0,"uniqueId":"525d8e9e4da5f8cf","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"JPEG_QUALITY","sid":"ab968e6a895c","loc":"b6b88a8f5b16","span":{"startLine":18,"startCol":0,"endLine":18,"endCol":17},"signature":{"text":"JPEG_QUALITY = 80","arity":0}}],["6bed0f6cc077",{"name":"ImageCompressorHandler","type":"class","line":21,"column":0,"uniqueId":"c1f759dfdc394161","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"ImageCompressorHandler","sid":"6bed0f6cc077","loc":"1944c88f6fa9","span":{"startLine":21,"startCol":0,"endLine":93,"endCol":36},"signature":{"text":"ImageCompressorHandler","arity":1}}],["bf1525065fc1",{"name":"on_created","type":"function","line":23,"column":4,"uniqueId":"e4fa4707dc50a3f7","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"on_created","sid":"bf1525065fc1","loc":"6a23aa5733e3","span":{"startLine":23,"startCol":4,"endLine":31,"endCol":40},"signature":{"text":"on_created()","arity":2}}],["b93b13ad72c8",{"name":"on_created","type":"method","line":23,"column":4,"uniqueId":"c1fbf187acf722d2","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"on_created","sid":"b93b13ad72c8","loc":"6a23aa5733e3","span":{"startLine":23,"startCol":4,"endLine":31,"endCol":40},"signature":{"text":"on_created()","arity":2}}],["e1b6efc4590e",{"name":"filename","type":"variable","line":28,"column":8,"uniqueId":"0cc610f9733aea1a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"filename","sid":"e1b6efc4590e","loc":"fb8262c4b55d","span":{"startLine":28,"startCol":8,"endLine":28,"endCol":33},"signature":{"text":"filename = event.src_path","arity":0}}],["a03d49affec2",{"name":"process_image","type":"function","line":33,"column":4,"uniqueId":"343926b0359552fb","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"process_image","sid":"a03d49affec2","loc":"efb82a607531","span":{"startLine":33,"startCol":4,"endLine":75,"endCol":66},"signature":{"text":"process_image()","arity":2}}],["e96faab29dfe",{"name":"process_image","type":"method","line":33,"column":4,"uniqueId":"2a665ce0c9db5977","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"process_image","sid":"e96faab29dfe","loc":"efb82a607531","span":{"startLine":33,"startCol":4,"endLine":75,"endCol":66},"signature":{"text":"process_image()","arity":2}}],["cb85db84a047",{"name":"retries","type":"variable","line":36,"column":8,"uniqueId":"4a2229db81b53c77","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"retries","sid":"cb85db84a047","loc":"0993780bd615","span":{"startLine":36,"startCol":8,"endLine":36,"endCol":19},"signature":{"text":"retries = 5","arity":0}}],["d8f9275fb9e0",{"name":"img","type":"variable","line":46,"column":24,"uniqueId":"2977c0ad75645009","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"img","sid":"d8f9275fb9e0","loc":"3ab768f1ee91","span":{"startLine":46,"startCol":24,"endLine":46,"endCol":48},"signature":{"text":"img = img.convert(\"RGB\")","arity":1}}],["40994691b6ac",{"name":"base_name","type":"variable","line":52,"column":20,"uniqueId":"fda0809a251101f3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"base_name","sid":"40994691b6ac","loc":"a0f54e5f3c50","span":{"startLine":52,"startCol":20,"endLine":52,"endCol":61},"signature":{"text":"base_name = os.path.basename(source_path)","arity":1}}],["c980c2d425bd",{"name":"output_path","type":"variable","line":55,"column":20,"uniqueId":"dad63c6af3ed2897","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"output_path","sid":"c980c2d425bd","loc":"07aeeafb4ca2","span":{"startLine":55,"startCol":20,"endLine":55,"endCol":74},"signature":{"text":"output_path = os.path.join(DEST_FOLDER, name + \".jpg\")","arity":2}}],["b6b6fea970dd",{"name":"file_size_kb","type":"variable","line":60,"column":20,"uniqueId":"1e260656d4179c1b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"file_size_kb","sid":"b6b6fea970dd","loc":"7ca54e23649d","span":{"startLine":60,"startCol":20,"endLine":60,"endCol":70},"signature":{"text":"file_size_kb = os.path.getsize(output_path) / 1024","arity":1}}],["46a3834bebae",{"name":"update_manifest","type":"function","line":77,"column":4,"uniqueId":"5eecfd0058e22933","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"update_manifest","sid":"46a3834bebae","loc":"c503bd1fcb64","span":{"startLine":77,"startCol":4,"endLine":93,"endCol":36},"signature":{"text":"update_manifest()","arity":1}}],["48cecf34618b",{"name":"update_manifest","type":"method","line":77,"column":4,"uniqueId":"cc1158a80ddd9b7a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"update_manifest","sid":"48cecf34618b","loc":"c503bd1fcb64","span":{"startLine":77,"startCol":4,"endLine":93,"endCol":36},"signature":{"text":"update_manifest()","arity":1}}],["192da7ed683a",{"name":"files","type":"variable","line":81,"column":12,"uniqueId":"cec78ddba7aca570","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"files","sid":"192da7ed683a","loc":"7e73a09ca1fa","span":{"startLine":81,"startCol":12,"endLine":81,"endCol":97},"signature":{"text":"files = [f for f in os.listdir(DEST_FOLDER) if f.lower().endswith(('.jpg', '.jpeg'))]","arity":1}}],["a678fea84b01",{"name":"manifest_path","type":"variable","line":87,"column":12,"uniqueId":"66ba3656ebd86e4d","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"manifest_path","sid":"a678fea84b01","loc":"57657d02c0e7","span":{"startLine":87,"startCol":12,"endLine":87,"endCol":70},"signature":{"text":"manifest_path = os.path.join(DEST_FOLDER, 'manifest.json')","arity":2}}],["b738b9ab7791",{"name":"main","type":"function","line":95,"column":0,"uniqueId":"73df67b3f6966479","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"main","sid":"b738b9ab7791","loc":"b56f8e75e067","span":{"startLine":95,"startCol":0,"endLine":119,"endCol":19},"signature":{"text":"main()","arity":0}}],["941538e18c2c",{"name":"event_handler","type":"variable","line":105,"column":4,"uniqueId":"64b8acad77776528","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"event_handler","sid":"941538e18c2c","loc":"ed83ffe019c7","span":{"startLine":105,"startCol":4,"endLine":105,"endCol":44},"signature":{"text":"event_handler = ImageCompressorHandler()","arity":0}}],["4857ff688dc0",{"name":"observer","type":"variable","line":106,"column":4,"uniqueId":"8b2cf22eef570ef9","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","qualifiedName":"observer","sid":"4857ff688dc0","loc":"d33be7c79a70","span":{"startLine":106,"startCol":4,"endLine":106,"endCol":25},"signature":{"text":"observer = Observer()","arity":0}}],["005bfbcec7d3",{"name":"Image","type":"import_from","line":1,"column":0,"uniqueId":"ad7582b7fe22f2c8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"Image","sid":"005bfbcec7d3","loc":"13170d71c430","span":{"startLine":1,"startCol":0,"endLine":1,"endCol":43},"signature":{"text":"from PIL import Image, ImageDraw, ImageFont","arity":0}}],["8acdb0f478f3",{"name":"ImageDraw","type":"import_from","line":1,"column":0,"uniqueId":"5f8ec366e2770406","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"ImageDraw","sid":"8acdb0f478f3","loc":"13170d71c430","span":{"startLine":1,"startCol":0,"endLine":1,"endCol":43},"signature":{"text":"from PIL import Image, ImageDraw, ImageFont","arity":0}}],["f3d600f5f71c",{"name":"ImageFont","type":"import_from","line":1,"column":0,"uniqueId":"38baa502b10dab7e","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"ImageFont","sid":"f3d600f5f71c","loc":"13170d71c430","span":{"startLine":1,"startCol":0,"endLine":1,"endCol":43},"signature":{"text":"from PIL import Image, ImageDraw, ImageFont","arity":0}}],["f612bfba252c",{"name":"os","type":"import","line":2,"column":0,"uniqueId":"ea4e3be938704755","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"os","sid":"f612bfba252c","loc":"93edddf2b1d0","span":{"startLine":2,"startCol":0,"endLine":2,"endCol":9},"signature":{"text":"import os","arity":0}}],["f88a7b0bbc01",{"name":"width","type":"variable","line":8,"column":0,"uniqueId":"d2d02af6a7c48b99","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"width","sid":"f88a7b0bbc01","loc":"fdd0a01ecead","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":11},"signature":{"text":"width = 800","arity":0}}],["90d23b21a73e",{"name":"height","type":"variable","line":9,"column":0,"uniqueId":"6e0fb998e4729675","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"height","sid":"90d23b21a73e","loc":"355de4408175","span":{"startLine":9,"startCol":0,"endLine":9,"endCol":12},"signature":{"text":"height = 200","arity":0}}],["f19a9c76f1a5",{"name":"img","type":"variable","line":10,"column":0,"uniqueId":"b8ee64695000e84f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"img","sid":"f19a9c76f1a5","loc":"81951da6e277","span":{"startLine":10,"startCol":0,"endLine":10,"endCol":54},"signature":{"text":"img = Image.new('RGBA', (width, height), (0, 0, 0, 0))","arity":3}}],["571e05d99d1b",{"name":"draw","type":"variable","line":11,"column":0,"uniqueId":"7a64618b2169d86a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"draw","sid":"571e05d99d1b","loc":"8fb059c6aa8f","span":{"startLine":11,"startCol":0,"endLine":11,"endCol":26},"signature":{"text":"draw = ImageDraw.Draw(img)","arity":1}}],["6fb0c38126a2",{"name":"text","type":"variable","line":13,"column":0,"uniqueId":"62997e971a444235","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"text","sid":"6fb0c38126a2","loc":"b4f9503073a2","span":{"startLine":13,"startCol":0,"endLine":13,"endCol":24},"signature":{"text":"text = \"LIVE EVENT 2026\"","arity":0}}],["742decaf56fb",{"name":"font","type":"variable","line":25,"column":8,"uniqueId":"ca43f20bb93b5d16","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"font","sid":"742decaf56fb","loc":"4faa87ce9d67","span":{"startLine":25,"startCol":8,"endLine":25,"endCol":39},"signature":{"text":"font = ImageFont.load_default()","arity":0}}],["d94b75e52d69",{"name":"font","type":"variable","line":22,"column":8,"uniqueId":"ca43f20bb93b5d16","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"font","sid":"d94b75e52d69","loc":"a9003dec66aa","span":{"startLine":22,"startCol":8,"endLine":22,"endCol":77},"signature":{"text":"font = ImageFont.truetype(\"/System/Library/Fonts/Helvetica.ttc\", 100)","arity":2}}],["280089381c03",{"name":"stroke_width","type":"variable","line":30,"column":0,"uniqueId":"aa466d421fac76fc","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"stroke_width","sid":"280089381c03","loc":"7a5378da1af2","span":{"startLine":30,"startCol":0,"endLine":30,"endCol":16},"signature":{"text":"stroke_width = 4","arity":0}}],["6f04a1ceb9e3",{"name":"output_path","type":"variable","line":37,"column":0,"uniqueId":"4f49ad838a30ea5e","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","qualifiedName":"output_path","sid":"6f04a1ceb9e3","loc":"ff585c44171d","span":{"startLine":37,"startCol":0,"endLine":37,"endCol":36},"signature":{"text":"output_path = 'assets/watermark.png'","arity":0}}],["68192f5c7af3",{"name":"os","type":"import","line":1,"column":0,"uniqueId":"61c6dba075c6b9ad","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"os","sid":"68192f5c7af3","loc":"7d31154e84ed","span":{"startLine":1,"startCol":0,"endLine":1,"endCol":9},"signature":{"text":"import os","arity":0}}],["a666ef051c90",{"name":"json","type":"import","line":2,"column":0,"uniqueId":"a316bd59dff24b1c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"json","sid":"a666ef051c90","loc":"f1ba302eae0d","span":{"startLine":2,"startCol":0,"endLine":2,"endCol":11},"signature":{"text":"import json","arity":0}}],["7081797faaa2",{"name":"shutil","type":"import","line":3,"column":0,"uniqueId":"ddbbb613f36bc88b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"shutil","sid":"7081797faaa2","loc":"62f074b970cf","span":{"startLine":3,"startCol":0,"endLine":3,"endCol":13},"signature":{"text":"import shutil","arity":0}}],["919952bec71f",{"name":"logging","type":"import","line":4,"column":0,"uniqueId":"e411c157a28a35df","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"logging","sid":"919952bec71f","loc":"14557eb79975","span":{"startLine":4,"startCol":0,"endLine":4,"endCol":14},"signature":{"text":"import logging","arity":0}}],["63d2f12df999",{"name":"List","type":"import_from","line":5,"column":0,"uniqueId":"afb177cfcbaf1e03","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"List","sid":"63d2f12df999","loc":"0ca69aee1e90","span":{"startLine":5,"startCol":0,"endLine":5,"endCol":33},"signature":{"text":"from typing import List, Optional","arity":0}}],["8486a6da899d",{"name":"Optional","type":"import_from","line":5,"column":0,"uniqueId":"67edbf2ef40a5829","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"Optional","sid":"8486a6da899d","loc":"0ca69aee1e90","span":{"startLine":5,"startCol":0,"endLine":5,"endCol":33},"signature":{"text":"from typing import List, Optional","arity":0}}],["e1848844071d",{"name":"datetime","type":"import_from","line":6,"column":0,"uniqueId":"0f54db49d512b1d0","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"datetime","sid":"e1848844071d","loc":"d95df5875709","span":{"startLine":6,"startCol":0,"endLine":6,"endCol":29},"signature":{"text":"from datetime import datetime","arity":0}}],["e005cfd09d0d",{"name":"FastAPI","type":"import_from","line":7,"column":0,"uniqueId":"8c7aad219448c4bb","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"FastAPI","sid":"e005cfd09d0d","loc":"74cef3701113","span":{"startLine":7,"startCol":0,"endLine":7,"endCol":57},"signature":{"text":"from fastapi import FastAPI, HTTPException, Body, Request","arity":0}}],["0545f94900ed",{"name":"HTTPException","type":"import_from","line":7,"column":0,"uniqueId":"3d0bf372976b97c8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"HTTPException","sid":"0545f94900ed","loc":"74cef3701113","span":{"startLine":7,"startCol":0,"endLine":7,"endCol":57},"signature":{"text":"from fastapi import FastAPI, HTTPException, Body, Request","arity":0}}],["38de2fe45fb4",{"name":"Body","type":"import_from","line":7,"column":0,"uniqueId":"66d1d324944733e9","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"Body","sid":"38de2fe45fb4","loc":"74cef3701113","span":{"startLine":7,"startCol":0,"endLine":7,"endCol":57},"signature":{"text":"from fastapi import FastAPI, HTTPException, Body, Request","arity":0}}],["4f72100dc115",{"name":"Request","type":"import_from","line":7,"column":0,"uniqueId":"43c38ad89b1a30e8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"Request","sid":"4f72100dc115","loc":"74cef3701113","span":{"startLine":7,"startCol":0,"endLine":7,"endCol":57},"signature":{"text":"from fastapi import FastAPI, HTTPException, Body, Request","arity":0}}],["f952fa31f292",{"name":"StaticFiles","type":"import_from","line":8,"column":0,"uniqueId":"8bb1dd75e369b415","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"StaticFiles","sid":"f952fa31f292","loc":"f35e6cc0e2ae","span":{"startLine":8,"startCol":0,"endLine":8,"endCol":43},"signature":{"text":"from fastapi.staticfiles import StaticFiles","arity":0}}],["25fd03289e9f",{"name":"HTMLResponse","type":"import_from","line":9,"column":0,"uniqueId":"0446079fb3b35854","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"HTMLResponse","sid":"25fd03289e9f","loc":"e600500242a7","span":{"startLine":9,"startCol":0,"endLine":9,"endCol":56},"signature":{"text":"from fastapi.responses import HTMLResponse, JSONResponse","arity":0}}],["a88a9b22e18b",{"name":"JSONResponse","type":"import_from","line":9,"column":0,"uniqueId":"26569828e8616bf6","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"JSONResponse","sid":"a88a9b22e18b","loc":"e600500242a7","span":{"startLine":9,"startCol":0,"endLine":9,"endCol":56},"signature":{"text":"from fastapi.responses import HTMLResponse, JSONResponse","arity":0}}],["542b7ecc7f9e",{"name":"Jinja2Templates","type":"import_from","line":10,"column":0,"uniqueId":"e8faf363e3467f49","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"Jinja2Templates","sid":"542b7ecc7f9e","loc":"31cfe1f02ba7","span":{"startLine":10,"startCol":0,"endLine":10,"endCol":46},"signature":{"text":"from fastapi.templating import Jinja2Templates","arity":0}}],["b6400514742a",{"name":"CORSMiddleware","type":"import_from","line":11,"column":0,"uniqueId":"7c96ce03dbd4cd58","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"CORSMiddleware","sid":"b6400514742a","loc":"6cebc3c3dd9d","span":{"startLine":11,"startCol":0,"endLine":11,"endCol":50},"signature":{"text":"from fastapi.middleware.cors import CORSMiddleware","arity":0}}],["d4f657cbb950",{"name":"BaseModel","type":"import_from","line":12,"column":0,"uniqueId":"825afa0a0e3df72c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"BaseModel","sid":"d4f657cbb950","loc":"748cc641edb6","span":{"startLine":12,"startCol":0,"endLine":12,"endCol":30},"signature":{"text":"from pydantic import BaseModel","arity":0}}],["49ab67c02fd0",{"name":"Image","type":"import_from","line":13,"column":0,"uniqueId":"d26b866f2ca5dc0c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"Image","sid":"49ab67c02fd0","loc":"9b625e216def","span":{"startLine":13,"startCol":0,"endLine":13,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0}}],["45836a40a663",{"name":"ImageOps","type":"import_from","line":13,"column":0,"uniqueId":"20e624cb4f36ed3a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"ImageOps","sid":"45836a40a663","loc":"9b625e216def","span":{"startLine":13,"startCol":0,"endLine":13,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0}}],["7f7e22fd40d8",{"name":"ImageFilter","type":"import_from","line":13,"column":0,"uniqueId":"a05d3488eb689830","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"ImageFilter","sid":"7f7e22fd40d8","loc":"9b625e216def","span":{"startLine":13,"startCol":0,"endLine":13,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0}}],["922bb4ee02f2",{"name":"ImageEnhance","type":"import_from","line":13,"column":0,"uniqueId":"954dda78497add31","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"ImageEnhance","sid":"922bb4ee02f2","loc":"9b625e216def","span":{"startLine":13,"startCol":0,"endLine":13,"endCol":58},"signature":{"text":"from PIL import Image, ImageOps, ImageFilter, ImageEnhance","arity":0}}],["74396bc2cafd",{"name":"logger","type":"variable","line":17,"column":0,"uniqueId":"251563b5d92adb07","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"logger","sid":"74396bc2cafd","loc":"8c9f12e3084c","span":{"startLine":17,"startCol":0,"endLine":17,"endCol":36},"signature":{"text":"logger = logging.getLogger(__name__)","arity":1}}],["903dfb857a52",{"name":"CONFIG","type":"variable","line":20,"column":0,"uniqueId":"ee5928c497d31ee7","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"CONFIG","sid":"903dfb857a52","loc":"9265fb53f622","span":{"startLine":20,"startCol":0,"endLine":41,"endCol":1},"signature":{"text":"CONFIG","arity":1}}],["0bf05c191007",{"name":"load_history","type":"function","line":48,"column":0,"uniqueId":"0fb2a52f8efcc414","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"load_history","sid":"0bf05c191007","loc":"3283a7470dfd","span":{"startLine":48,"startCol":0,"endLine":56,"endCol":13},"signature":{"text":"load_history()","arity":0}}],["f883aef0c86b",{"name":"save_history","type":"function","line":58,"column":0,"uniqueId":"51907d3a228470d3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"save_history","sid":"f883aef0c86b","loc":"57c2029d26e2","span":{"startLine":58,"startCol":0,"endLine":63,"endCol":57},"signature":{"text":"save_history()","arity":1}}],["503a10918b7c",{"name":"update_history","type":"function","line":65,"column":0,"uniqueId":"40c206349db9ca59","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"update_history","sid":"503a10918b7c","loc":"11d416b6bfe4","span":{"startLine":65,"startCol":0,"endLine":82,"endCol":25},"signature":{"text":"update_history()","arity":2}}],["09fb73190e10",{"name":"history","type":"variable","line":85,"column":4,"uniqueId":"e8de83f6c98971ec","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"history","sid":"09fb73190e10","loc":"9e412ee0106f","span":{"startLine":85,"startCol":4,"endLine":85,"endCol":28},"signature":{"text":"history = load_history()","arity":0}}],["74f3e16aa907",{"name":"processed_filename","type":"variable","line":87,"column":4,"uniqueId":"4099432852f2f390","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"processed_filename","sid":"74f3e16aa907","loc":"9c63a238df96","span":{"startLine":87,"startCol":4,"endLine":87,"endCol":38},"signature":{"text":"processed_filename = name + \".jpg\"","arity":0}}],["15cef8694696",{"name":"get_file_history","type":"function","line":84,"column":0,"uniqueId":"e65f4daca0d63dee","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"get_file_history","sid":"15cef8694696","loc":"941881c41569","span":{"startLine":84,"startCol":0,"endLine":88,"endCol":78},"signature":{"text":"get_file_history()","arity":1}}],["a1352c8f667b",{"name":"ImageProcessor","type":"class","line":91,"column":0,"uniqueId":"00430882546ad050","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"ImageProcessor","sid":"a1352c8f667b","loc":"af80e2411186","span":{"startLine":91,"startCol":0,"endLine":187,"endCol":38},"signature":{"text":"ImageProcessor","arity":2}}],["9ecc08319335",{"name":"__init__","type":"function","line":92,"column":4,"uniqueId":"40c5791ba71f4833","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"__init__","sid":"9ecc08319335","loc":"e53a4dab7b8d","span":{"startLine":92,"startCol":4,"endLine":95,"endCol":26},"signature":{"text":"__init__(self, config)","arity":2}}],["2aa759395e44",{"name":"__init__","type":"method","line":92,"column":4,"uniqueId":"4c8db91069e407f0","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"__init__","sid":"2aa759395e44","loc":"e53a4dab7b8d","span":{"startLine":92,"startCol":4,"endLine":95,"endCol":26},"signature":{"text":"__init__(self, config)","arity":2}}],["8291de383f41",{"name":"load_assets","type":"function","line":97,"column":4,"uniqueId":"9fdcf3837f3e7328","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"load_assets","sid":"8291de383f41","loc":"dbc90ece348f","span":{"startLine":97,"startCol":4,"endLine":104,"endCol":62},"signature":{"text":"load_assets()","arity":1}}],["ff776931ddd1",{"name":"load_assets","type":"method","line":97,"column":4,"uniqueId":"6d5d4c04c91ea54c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"load_assets","sid":"ff776931ddd1","loc":"dbc90ece348f","span":{"startLine":97,"startCol":4,"endLine":104,"endCol":62},"signature":{"text":"load_assets()","arity":1}}],["ddab1b8abe90",{"name":"wm_conf","type":"variable","line":157,"column":8,"uniqueId":"db266ce2032daac4","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"wm_conf","sid":"ddab1b8abe90","loc":"49b8f89ead4b","span":{"startLine":157,"startCol":8,"endLine":157,"endCol":56},"signature":{"text":"wm_conf = self.config['processing']['watermark']","arity":0}}],["8b22c7ac6c0b",{"name":"process_image","type":"function","line":106,"column":4,"uniqueId":"31a2487e7c1fb0b5","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"process_image","sid":"8b22c7ac6c0b","loc":"6e47f634cf84","span":{"startLine":106,"startCol":4,"endLine":151,"endCol":19},"signature":{"text":"process_image()","arity":4}}],["8687fa267713",{"name":"process_image","type":"method","line":106,"column":4,"uniqueId":"8f175e05b02326f4","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"process_image","sid":"8687fa267713","loc":"6e47f634cf84","span":{"startLine":106,"startCol":4,"endLine":151,"endCol":19},"signature":{"text":"process_image()","arity":4}}],["82d30873e32d",{"name":"img","type":"variable","line":135,"column":16,"uniqueId":"d5ccdc61520cacff","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"img","sid":"82d30873e32d","loc":"9fabebf7aef3","span":{"startLine":135,"startCol":16,"endLine":135,"endCol":48},"signature":{"text":"img = self._apply_watermark(img)","arity":1}}],["cfcc10d74d22",{"name":"brightness_factor","type":"variable","line":121,"column":16,"uniqueId":"cc677b7c490eb97f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"brightness_factor","sid":"cfcc10d74d22","loc":"887b1bc1daff","span":{"startLine":121,"startCol":16,"endLine":121,"endCol":49},"signature":{"text":"brightness_factor = 2 ** exposure","arity":0}}],["0260a4df4b43",{"name":"enhancer","type":"variable","line":123,"column":20,"uniqueId":"a055498a87306224","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"enhancer","sid":"0260a4df4b43","loc":"017d3ef17651","span":{"startLine":123,"startCol":20,"endLine":123,"endCol":59},"signature":{"text":"enhancer = ImageEnhance.Brightness(img)","arity":1}}],["a633a7f6f89a",{"name":"max_size","type":"variable","line":127,"column":16,"uniqueId":"a185c24445178135","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"max_size","sid":"a633a7f6f89a","loc":"eab3853a3907","span":{"startLine":127,"startCol":16,"endLine":127,"endCol":50},"signature":{"text":"max_size = self.config[\"max_size\"]","arity":0}}],["e45f27705b06",{"name":"img","type":"variable","line":132,"column":20,"uniqueId":"d5ccdc61520cacff","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"img","sid":"e45f27705b06","loc":"79c1fff9baaa","span":{"startLine":132,"startCol":20,"endLine":132,"endCol":97},"signature":{"text":"img = img.filter(ImageFilter.UnsharpMask(radius=2, percent=150, threshold=3))","arity":3}}],["4552e6566af8",{"name":"_apply_watermark","type":"function","line":153,"column":4,"uniqueId":"57c07e79898745af","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"_apply_watermark","sid":"4552e6566af8","loc":"5b26208cad50","span":{"startLine":153,"startCol":4,"endLine":187,"endCol":38},"signature":{"text":"_apply_watermark()","arity":2}}],["4688922eea33",{"name":"_apply_watermark","type":"method","line":153,"column":4,"uniqueId":"8563b1f81069f5d5","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"_apply_watermark","sid":"4688922eea33","loc":"5b26208cad50","span":{"startLine":153,"startCol":4,"endLine":187,"endCol":38},"signature":{"text":"_apply_watermark()","arity":2}}],["af51227f633b",{"name":"wm","type":"variable","line":158,"column":8,"uniqueId":"4d1cc5e7f81d6dc2","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"wm","sid":"af51227f633b","loc":"c6a1061dba46","span":{"startLine":158,"startCol":8,"endLine":158,"endCol":38},"signature":{"text":"wm = self.watermark_img.copy()","arity":0}}],["9010248eac88",{"name":"scale","type":"variable","line":161,"column":8,"uniqueId":"ef2f3e1f5a06777b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"scale","sid":"9010248eac88","loc":"d3c83ffa1fb8","span":{"startLine":161,"startCol":8,"endLine":161,"endCol":57},"signature":{"text":"scale = wm_conf.get('scale_percentage', 20) / 100","arity":2}}],["cec1e0fe270e",{"name":"target_wm_width","type":"variable","line":162,"column":8,"uniqueId":"6534df832bf68663","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"target_wm_width","sid":"cec1e0fe270e","loc":"84fa169a8c36","span":{"startLine":162,"startCol":8,"endLine":162,"endCol":52},"signature":{"text":"target_wm_width = int(min(img.size) * scale)","arity":1}}],["ffbbf2a46141",{"name":"wm_ratio","type":"variable","line":163,"column":8,"uniqueId":"85cf43db1f31cbf0","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"wm_ratio","sid":"ffbbf2a46141","loc":"ca8983d4622d","span":{"startLine":163,"startCol":8,"endLine":163,"endCol":45},"signature":{"text":"wm_ratio = target_wm_width / wm.width","arity":0}}],["1673e25035b8",{"name":"new_wm_size","type":"variable","line":164,"column":8,"uniqueId":"659e5dad84f1adca","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"new_wm_size","sid":"1673e25035b8","loc":"b13feec3338e","span":{"startLine":164,"startCol":8,"endLine":164,"endCol":75},"signature":{"text":"new_wm_size = (int(wm.width * wm_ratio), int(wm.height * wm_ratio))","arity":1}}],["8c4b117fea06",{"name":"wm","type":"variable","line":165,"column":8,"uniqueId":"4d1cc5e7f81d6dc2","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"wm","sid":"8c4b117fea06","loc":"21df9afda08d","span":{"startLine":165,"startCol":8,"endLine":165,"endCol":61},"signature":{"text":"wm = wm.resize(new_wm_size, Image.Resampling.LANCZOS)","arity":2}}],["3633da0e6896",{"name":"opacity","type":"variable","line":168,"column":8,"uniqueId":"3f75e25200e3b36c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"opacity","sid":"3633da0e6896","loc":"9c54592cecbe","span":{"startLine":168,"startCol":8,"endLine":168,"endCol":45},"signature":{"text":"opacity = wm_conf.get('opacity', 0.8)","arity":2}}],["128b6e8806b2",{"name":"alpha","type":"variable","line":170,"column":12,"uniqueId":"7f403fee8dfbc1c3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"alpha","sid":"128b6e8806b2","loc":"691ced6c324d","span":{"startLine":170,"startCol":12,"endLine":170,"endCol":33},"signature":{"text":"alpha = wm.split()[3]","arity":0}}],["388030c30a12",{"name":"alpha","type":"variable","line":171,"column":12,"uniqueId":"7f403fee8dfbc1c3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"alpha","sid":"388030c30a12","loc":"3498c271b752","span":{"startLine":171,"startCol":12,"endLine":171,"endCol":67},"signature":{"text":"alpha = ImageEnhance.Brightness(alpha).enhance(opacity)","arity":1}}],["dd9409f90464",{"name":"margin","type":"variable","line":175,"column":8,"uniqueId":"0968287720fdfafe","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"margin","sid":"dd9409f90464","loc":"57a3aaabbdb7","span":{"startLine":175,"startCol":8,"endLine":175,"endCol":42},"signature":{"text":"margin = wm_conf.get('margin', 30)","arity":2}}],["1489b3f51f08",{"name":"x","type":"variable","line":177,"column":8,"uniqueId":"91b06e0e71ec1625","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"x","sid":"1489b3f51f08","loc":"b7266401bc2b","span":{"startLine":177,"startCol":8,"endLine":177,"endCol":41},"signature":{"text":"x = img.width - wm.width - margin","arity":0}}],["e61740b4d685",{"name":"y","type":"variable","line":178,"column":8,"uniqueId":"2c87613c01ad31a3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"y","sid":"e61740b4d685","loc":"f71a28fcf314","span":{"startLine":178,"startCol":8,"endLine":178,"endCol":43},"signature":{"text":"y = img.height - wm.height - margin","arity":0}}],["074cc42c98d2",{"name":"x","type":"variable","line":181,"column":8,"uniqueId":"91b06e0e71ec1625","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"x","sid":"074cc42c98d2","loc":"f16bf350dc18","span":{"startLine":181,"startCol":8,"endLine":181,"endCol":48},"signature":{"text":"x = max(0, min(x, img.width - wm.width))","arity":3}}],["41390672847b",{"name":"y","type":"variable","line":182,"column":8,"uniqueId":"2c87613c01ad31a3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"y","sid":"41390672847b","loc":"794ab4a78c75","span":{"startLine":182,"startCol":8,"endLine":182,"endCol":50},"signature":{"text":"y = max(0, min(y, img.height - wm.height))","arity":3}}],["8de9e168f09f",{"name":"img_rgba","type":"variable","line":185,"column":8,"uniqueId":"910ce84d79720ce3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"img_rgba","sid":"8de9e168f09f","loc":"263e058b635b","span":{"startLine":185,"startCol":8,"endLine":185,"endCol":38},"signature":{"text":"img_rgba = img.convert(\"RGBA\")","arity":1}}],["632d26f8075c",{"name":"processor","type":"variable","line":190,"column":0,"uniqueId":"15407e7945700e9b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"processor","sid":"632d26f8075c","loc":"8cedccc90930","span":{"startLine":190,"startCol":0,"endLine":190,"endCol":34},"signature":{"text":"processor = ImageProcessor(CONFIG)","arity":1}}],["815afe855213",{"name":"app","type":"variable","line":193,"column":0,"uniqueId":"dab349a28e98532b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"app","sid":"815afe855213","loc":"c3e574d05388","span":{"startLine":193,"startCol":0,"endLine":193,"endCol":48},"signature":{"text":"app = FastAPI(title=\"Live Photo Command Center\")","arity":1}}],["cefd06fb75ab",{"name":"templates","type":"variable","line":211,"column":0,"uniqueId":"b0b979bc1b3d0c2f","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"templates","sid":"cefd06fb75ab","loc":"ef150331c6cc","span":{"startLine":211,"startCol":0,"endLine":211,"endCol":50},"signature":{"text":"templates = Jinja2Templates(directory=\"templates\")","arity":1}}],["eb2722825a5d",{"name":"PublishRequest","type":"class","line":214,"column":0,"uniqueId":"3e2666d67027a52b","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"PublishRequest","sid":"eb2722825a5d","loc":"c1d94a17becb","span":{"startLine":214,"startCol":0,"endLine":216,"endCol":25},"signature":{"text":"class PublishRequest(BaseModel):","arity":1}}],["b96a66e2f346",{"name":"filename","type":"variable","line":229,"column":4,"uniqueId":"01cc181d9c37f6f7","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"filename","sid":"b96a66e2f346","loc":"1059b673c830","span":{"startLine":229,"startCol":4,"endLine":229,"endCol":17},"signature":{"text":"filename: str","arity":0}}],["f34793fd2bf4",{"name":"exposure","type":"variable","line":223,"column":4,"uniqueId":"d0683b97d437ab3c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"exposure","sid":"f34793fd2bf4","loc":"2e510e373a2a","span":{"startLine":223,"startCol":4,"endLine":223,"endCol":25},"signature":{"text":"exposure: float = 0.0","arity":0}}],["fb7785542b27",{"name":"RejectRequest","type":"class","line":218,"column":0,"uniqueId":"ef5170f1c6dc153e","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"RejectRequest","sid":"fb7785542b27","loc":"46a8ca116d7c","span":{"startLine":218,"startCol":0,"endLine":219,"endCol":17},"signature":{"text":"class RejectRequest(BaseModel):","arity":1}}],["be5a75293f3a",{"name":"BatchPublishRequest","type":"class","line":221,"column":0,"uniqueId":"792ecaf6dd5cdaee","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"BatchPublishRequest","sid":"be5a75293f3a","loc":"dc2fe806028e","span":{"startLine":221,"startCol":0,"endLine":223,"endCol":25},"signature":{"text":"class BatchPublishRequest(BaseModel):","arity":1}}],["2739bdd49e29",{"name":"filenames","type":"variable","line":222,"column":4,"uniqueId":"8e4f4f140c65be41","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"filenames","sid":"2739bdd49e29","loc":"937325c09f11","span":{"startLine":222,"startCol":4,"endLine":222,"endCol":24},"signature":{"text":"filenames: List[str]","arity":0}}],["2492e4e5c78b",{"name":"ArchiveRequest","type":"class","line":225,"column":0,"uniqueId":"12cf988bc813ff92","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"ArchiveRequest","sid":"2492e4e5c78b","loc":"a929c2be9b32","span":{"startLine":225,"startCol":0,"endLine":226,"endCol":17},"signature":{"text":"class ArchiveRequest(BaseModel):","arity":1}}],["5077fab11f55",{"name":"UnpublishRequest","type":"class","line":228,"column":0,"uniqueId":"2b59b9fb7f136c14","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"UnpublishRequest","sid":"5077fab11f55","loc":"64211aa103fa","span":{"startLine":228,"startCol":0,"endLine":229,"endCol":17},"signature":{"text":"class UnpublishRequest(BaseModel):","arity":1}}],["7ba0f452a38a",{"name":"update_manifest","type":"function","line":232,"column":0,"uniqueId":"a48f07198547c6f7","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"update_manifest","sid":"7ba0f452a38a","loc":"c70062864380","span":{"startLine":232,"startCol":0,"endLine":244,"endCol":52},"signature":{"text":"update_manifest()","arity":0}}],["426e8b89154d",{"name":"folder","type":"variable","line":294,"column":8,"uniqueId":"de22fc3ee7d27dbc","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"folder","sid":"426e8b89154d","loc":"6cacf54aee1f","span":{"startLine":294,"startCol":8,"endLine":294,"endCol":37},"signature":{"text":"folder = CONFIG[\"web_folder\"]","arity":0}}],["931d1f74f10b",{"name":"files","type":"variable","line":236,"column":8,"uniqueId":"e828c2f73d7cdb80","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"files","sid":"931d1f74f10b","loc":"b117fa5af95f","span":{"startLine":236,"startCol":8,"endLine":236,"endCol":88},"signature":{"text":"files = [f for f in os.listdir(folder) if f.lower().endswith(('.jpg', '.jpeg'))]","arity":1}}],["5d502150850c",{"name":"manifest_path","type":"variable","line":240,"column":8,"uniqueId":"8e8fbe5f2f951728","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"manifest_path","sid":"5d502150850c","loc":"90fbe2814aac","span":{"startLine":240,"startCol":8,"endLine":240,"endCol":61},"signature":{"text":"manifest_path = os.path.join(folder, 'manifest.json')","arity":2}}],["c64bfb3488a6",{"name":"dashboard","type":"function","line":248,"column":0,"uniqueId":"0998ba7e33b98008","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"dashboard","sid":"c64bfb3488a6","loc":"1058ce91c508","span":{"startLine":248,"startCol":0,"endLine":249,"endCol":73},"signature":{"text":"dashboard(request: Request)","arity":1}}],["5d94c9349702",{"name":"dashboard","type":"decorated_function","line":248,"column":0,"uniqueId":"6df4d0f1dd6275c9","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"dashboard","sid":"5d94c9349702","loc":"1058ce91c508","span":{"startLine":248,"startCol":0,"endLine":249,"endCol":73},"signature":{"text":"async def dashboard(request: Request):","arity":1}}],["18138208cbe8",{"name":"gallery","type":"function","line":252,"column":0,"uniqueId":"cb3cb011315843b8","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"gallery","sid":"18138208cbe8","loc":"f08f5f741b80","span":{"startLine":252,"startCol":0,"endLine":258,"endCol":44},"signature":{"text":"gallery()","arity":0}}],["d965c8b5fb51",{"name":"gallery","type":"decorated_function","line":252,"column":0,"uniqueId":"1a3c785f67ccf4cf","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"gallery","sid":"d965c8b5fb51","loc":"f08f5f741b80","span":{"startLine":252,"startCol":0,"endLine":258,"endCol":44},"signature":{"text":"gallery","arity":0}}],["dc550f4005da",{"name":"get_buffer_images","type":"function","line":261,"column":0,"uniqueId":"386f4009a26d6bb6","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"get_buffer_images","sid":"dc550f4005da","loc":"a3922ba91d9b","span":{"startLine":261,"startCol":0,"endLine":288,"endCol":71},"signature":{"text":"get_buffer_images()","arity":0}}],["e53ef7b853ab",{"name":"get_buffer_images","type":"decorated_function","line":261,"column":0,"uniqueId":"0b80eda2edafb2e7","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"get_buffer_images","sid":"e53ef7b853ab","loc":"a3922ba91d9b","span":{"startLine":261,"startCol":0,"endLine":288,"endCol":71},"signature":{"text":"get_buffer_images","arity":0}}],["b16d1f162215",{"name":"files","type":"variable","line":295,"column":8,"uniqueId":"e828c2f73d7cdb80","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"files","sid":"b16d1f162215","loc":"7528da870254","span":{"startLine":295,"startCol":8,"endLine":295,"endCol":18},"signature":{"text":"files = []","arity":0}}],["566bff22c034",{"name":"path","type":"variable","line":298,"column":16,"uniqueId":"8065df3384b1d0f1","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"path","sid":"566bff22c034","loc":"b99bf550253b","span":{"startLine":298,"startCol":16,"endLine":298,"endCol":46},"signature":{"text":"path = os.path.join(folder, f)","arity":2}}],["ac4508c2e3de",{"name":"stat","type":"variable","line":299,"column":16,"uniqueId":"2443a3f80d470584","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"stat","sid":"ac4508c2e3de","loc":"69ea5a4a86a3","span":{"startLine":299,"startCol":16,"endLine":299,"endCol":36},"signature":{"text":"stat = os.stat(path)","arity":1}}],["3f1d4cba7f4b",{"name":"ts","type":"variable","line":300,"column":16,"uniqueId":"db3081ce8ee735f5","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"ts","sid":"3f1d4cba7f4b","loc":"d55b3ec28b72","span":{"startLine":300,"startCol":16,"endLine":300,"endCol":34},"signature":{"text":"ts = stat.st_mtime","arity":0}}],["bed841bbaf0a",{"name":"hist","type":"variable","line":303,"column":16,"uniqueId":"e22f15b4a624bf7a","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"hist","sid":"bed841bbaf0a","loc":"bfee0a4445f3","span":{"startLine":303,"startCol":16,"endLine":303,"endCol":42},"signature":{"text":"hist = get_file_history(f)","arity":1}}],["804f0d99e94b",{"name":"get_live_images","type":"function","line":291,"column":0,"uniqueId":"f10d2a815dab3103","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"get_live_images","sid":"804f0d99e94b","loc":"70e906fdd2cc","span":{"startLine":291,"startCol":0,"endLine":318,"endCol":71},"signature":{"text":"get_live_images()","arity":0}}],["05609680b80f",{"name":"get_live_images","type":"decorated_function","line":291,"column":0,"uniqueId":"e4c6cb7382fdeec4","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"get_live_images","sid":"05609680b80f","loc":"70e906fdd2cc","span":{"startLine":291,"startCol":0,"endLine":318,"endCol":71},"signature":{"text":"get_live_images","arity":0}}],["093ecd3032e9",{"name":"publish_image","type":"function","line":321,"column":0,"uniqueId":"fa4ab1e33b798f81","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"publish_image","sid":"093ecd3032e9","loc":"3d32d9546709","span":{"startLine":321,"startCol":0,"endLine":336,"endCol":59},"signature":{"text":"publish_image()","arity":1}}],["bd92b97ba96a",{"name":"publish_image","type":"decorated_function","line":321,"column":0,"uniqueId":"bf0ced24b4f65fde","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"publish_image","sid":"bd92b97ba96a","loc":"3d32d9546709","span":{"startLine":321,"startCol":0,"endLine":336,"endCol":59},"signature":{"text":"publish_image","arity":1}}],["3fea2533cd29",{"name":"source_path","type":"variable","line":346,"column":12,"uniqueId":"a06c055337926ba4","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"source_path","sid":"3fea2533cd29","loc":"9d88920014a2","span":{"startLine":346,"startCol":12,"endLine":346,"endCol":70},"signature":{"text":"source_path = os.path.join(CONFIG[\"buffer_folder\"], fname)","arity":2}}],["e16d72b5fc16",{"name":"dest_path","type":"variable","line":348,"column":12,"uniqueId":"557b2220196ca377","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"dest_path","sid":"e16d72b5fc16","loc":"85af64fe457e","span":{"startLine":348,"startCol":12,"endLine":348,"endCol":73},"signature":{"text":"dest_path = os.path.join(CONFIG[\"web_folder\"], name + \".jpg\")","arity":2}}],["1a2cb1a65a7f",{"name":"batch_publish_images","type":"function","line":339,"column":0,"uniqueId":"62a62b4730854bee","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"batch_publish_images","sid":"1a2cb1a65a7f","loc":"076559f9d801","span":{"startLine":339,"startCol":0,"endLine":357,"endCol":78},"signature":{"text":"batch_publish_images()","arity":1}}],["646a47ad4f52",{"name":"batch_publish_images","type":"decorated_function","line":339,"column":0,"uniqueId":"efe0ea81a84fff52","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"batch_publish_images","sid":"646a47ad4f52","loc":"076559f9d801","span":{"startLine":339,"startCol":0,"endLine":357,"endCol":78},"signature":{"text":"batch_publish_images","arity":1}}],["9ae6f6107301",{"name":"success_count","type":"variable","line":341,"column":4,"uniqueId":"d180d47363d82c23","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"success_count","sid":"9ae6f6107301","loc":"c39f44726298","span":{"startLine":341,"startCol":4,"endLine":341,"endCol":21},"signature":{"text":"success_count = 0","arity":0}}],["9c0a4397a2de",{"name":"errors","type":"variable","line":342,"column":4,"uniqueId":"4ce78f5ac573499c","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"errors","sid":"9c0a4397a2de","loc":"ee53ee9af0d0","span":{"startLine":342,"startCol":4,"endLine":342,"endCol":15},"signature":{"text":"errors = []","arity":0}}],["1563bdb577a7",{"name":"archive_image","type":"function","line":360,"column":0,"uniqueId":"def5f707f4c3ee47","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"archive_image","sid":"1563bdb577a7","loc":"ebf96b7fea94","span":{"startLine":360,"startCol":0,"endLine":371,"endCol":59},"signature":{"text":"archive_image()","arity":1}}],["e789d5361625",{"name":"archive_image","type":"decorated_function","line":360,"column":0,"uniqueId":"fcc8add7ed46114e","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"archive_image","sid":"e789d5361625","loc":"ebf96b7fea94","span":{"startLine":360,"startCol":0,"endLine":371,"endCol":59},"signature":{"text":"archive_image","arity":1}}],["7b1588846042",{"name":"src","type":"variable","line":377,"column":8,"uniqueId":"188a0dcce87b0693","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"src","sid":"7b1588846042","loc":"96605daa52e9","span":{"startLine":377,"startCol":8,"endLine":377,"endCol":65},"signature":{"text":"src = os.path.join(CONFIG[\"buffer_folder\"], req.filename)","arity":2}}],["c8b14148c416",{"name":"dst","type":"variable","line":378,"column":8,"uniqueId":"512b4e4cfa624ac4","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"dst","sid":"c8b14148c416","loc":"e2bcf16d9f54","span":{"startLine":378,"startCol":8,"endLine":378,"endCol":64},"signature":{"text":"dst = os.path.join(CONFIG[\"trash_folder\"], req.filename)","arity":2}}],["4b8285e05b5b",{"name":"reject_image","type":"function","line":374,"column":0,"uniqueId":"6b4c6af95acac2f6","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"reject_image","sid":"4b8285e05b5b","loc":"fcc42031b707","span":{"startLine":374,"startCol":0,"endLine":385,"endCol":59},"signature":{"text":"reject_image()","arity":1}}],["ccfc02980818",{"name":"reject_image","type":"decorated_function","line":374,"column":0,"uniqueId":"37a3207176084fd5","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"reject_image","sid":"ccfc02980818","loc":"fcc42031b707","span":{"startLine":374,"startCol":0,"endLine":385,"endCol":59},"signature":{"text":"reject_image","arity":1}}],["cf79e3d6b840",{"name":"unpublish_image","type":"function","line":388,"column":0,"uniqueId":"9163d4fd2bb31f47","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"unpublish_image","sid":"cf79e3d6b840","loc":"52505edc87bb","span":{"startLine":388,"startCol":0,"endLine":403,"endCol":59},"signature":{"text":"unpublish_image()","arity":1}}],["d0926b749956",{"name":"unpublish_image","type":"decorated_function","line":388,"column":0,"uniqueId":"991ec630cfe6b076","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"unpublish_image","sid":"d0926b749956","loc":"52505edc87bb","span":{"startLine":388,"startCol":0,"endLine":403,"endCol":59},"signature":{"text":"unpublish_image","arity":1}}],["8119d710278c",{"name":"target_filename","type":"variable","line":393,"column":8,"uniqueId":"356e56964bf93c84","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"target_filename","sid":"8119d710278c","loc":"60f50c60b958","span":{"startLine":393,"startCol":8,"endLine":393,"endCol":39},"signature":{"text":"target_filename = name + \".jpg\"","arity":0}}],["ba37c01dc32d",{"name":"target","type":"variable","line":394,"column":8,"uniqueId":"26e0454ee6aeb3b3","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"target","sid":"ba37c01dc32d","loc":"ba3d7b9f64c0","span":{"startLine":394,"startCol":8,"endLine":394,"endCol":68},"signature":{"text":"target = os.path.join(CONFIG[\"web_folder\"], target_filename)","arity":2}}],["6b3bedcd47f7",{"name":"uvicorn","type":"import","line":406,"column":4,"uniqueId":"144f556fa778b485","filePath":"/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","qualifiedName":"uvicorn","sid":"6b3bedcd47f7","loc":"87e5ca62e8a0","span":{"startLine":406,"startCol":4,"endLine":406,"endCol":18},"signature":{"text":"import uvicorn","arity":0}}]],"globalByName":[["sys",["d7d4b934a254","7f56a0f0659f"]],["time",["a96960705ea3","e435554faab0"]],["os",["e38116a2fc55","1fd62304b496","f612bfba252c","68192f5c7af3"]],["json",["3d88f33d18c9","b011154f67ae","a666ef051c90"]],["logging",["342f58cc6f5c","8a00a4e7bf30","919952bec71f"]],["Observer",["694f3be442f9","0f879251e6c7"]],["FileSystemEventHandler",["10ba5f794a6a","e8f39c9fd6a9"]],["Image",["dd05ad5fabd0","d7d89356cbee","005bfbcec7d3","49ab67c02fd0"]],["ImageOps",["473fa9a7a8ed","670c5edb0c4a","45836a40a663"]],["ImageFilter",["e8cd41611b4c","7f7e22fd40d8"]],["ImageEnhance",["25c521a07a84","922bb4ee02f2"]],["DEFAULT_CONFIG",["9a274305d23a"]],["ImageProcessor",["56e8bd5f59f9","a1352c8f667b"]],["__init__",["b0e6b2a9b470","6778f672bf93","c1f86eeee854","5b34d8799237","9ecc08319335","2aa759395e44"]],["load_watermark_assets",["5cfab2e9ca92","a1bbedfa4c68"]],["proc_config",["82d9d94dfebd","82d9d94dfebd"]],["wm_config",["ad1fa72ca834","b6850f48686c"]],["frame_config",["5a464a5bd2bb"]],["process_image_pipeline",["8842707c06d5","1b8fd782dd91"]],["img",["6a740baa87b6","6a740baa87b6","847d4436c399","3fca3420dea5","6a740baa87b6","d8f9275fb9e0","d8f9275fb9e0","f19a9c76f1a5","82d30873e32d","82d30873e32d","82d30873e32d","e45f27705b06","82d30873e32d"]],["max_size",["99237e890889","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:4:max_size","a633a7f6f89a"]],["_apply_frame",["55af84af865c","ac04a2a49b50"]],["mode",["326ca82968ec","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:11:mode","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:21:mode"]],["frame",["078542f10737","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:18:frame"]],["frame_ratio",["076c53f6b5c9"]],["new_frame_size",["6cd07973df8e"]],["frame_resized",["696b44cd440a"]],["final_canvas",["61a4dcf77f38"]],["img_ratio",["6213d5f8ef9a"]],["img_filled",["542726430504"]],["img_copy",["54822dedebba"]],["pos_x",["25f8c85df78b"]],["pos_y",["cccd4db4181e"]],["_apply_watermark",["6cca18ac30e8","404345dc980a","4552e6566af8","4688922eea33"]],["wm",["cdc39d2d49bc","2fde673d5b9b","af51227f633b","8c4b117fea06"]],["scale",["c242a013c464","9010248eac88"]],["target_wm_width",["2b928c50769c","cec1e0fe270e"]],["wm_ratio",["5b36176ef89a","ffbbf2a46141"]],["new_wm_size",["6fc25bdc0f3e","1673e25035b8"]],["opacity",["c84dd068a19d","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:14:opacity","3633da0e6896"]],["alpha",["ffe88eb1e011","0ff8da3e5e17","128b6e8806b2","388030c30a12"]],["margin",["a281b7874138","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:16:margin","dd9409f90464"]],["pos_config",["4f8bb6721792"]],["x",["d0d7103e63f8","d0d7103e63f8","d0d7103e63f8","6ba588f3293f","9d2ccc601e84","1489b3f51f08","074cc42c98d2"]],["y",["25d194918f64","25d194918f64","25d194918f64","9e3e59d8db43","588ddd241062","e61740b4d685","41390672847b"]],["img_rgba",["9e5544ded065","8de9e168f09f"]],["Watcher",["157bed447fc5"]],["on_created",["ac849fee6b4e","dd512c764f9f","bf1525065fc1","b93b13ad72c8"]],["filename",["16fad65afb17","e1b6efc4590e","b96a66e2f346","b96a66e2f346","b96a66e2f346","b96a66e2f346"]],["processed_img",["131b3f74278b"]],["save_image",["8435456ab8f8","136354cd17d4"]],["base_name",["33fc23ee5d82","40994691b6ac"]],["output_path",["e0298478e6f2","c980c2d425bd","6f04a1ceb9e3"]],["update_manifest",["cdd47d40fa46","7fbb4f3c8145","46a3834bebae","48cecf34618b","7ba0f452a38a"]],["files",["5740cb691afa","192da7ed683a","931d1f74f10b","b16d1f162215","b16d1f162215"]],["manifest_path",["05777d9bbc4d","a678fea84b01","5d502150850c"]],["load_config",["382e5b34771a"]],["main",["b568c0b14678","b738b9ab7791"]],["config",["0a8245525793"]],["source_folder",["a2e0e3b697ab"]],["dest_folder",["83b5cd545cc8"]],["processor",["09ef2eb1dec3","632d26f8075c"]],["event_handler",["74114c4500bd","941538e18c2c"]],["observer",["25d4206ae176","4857ff688dc0"]],["watch_folder",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:2:watch_folder"]],["output_folder",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:3:output_folder"]],["jpeg_quality",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:5:jpeg_quality"]],["processing",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:6:processing"]],["sharpen",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:7:sharpen"]],["progressive",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:8:progressive"]],["watermark",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:9:watermark"]],["enabled",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:10:enabled","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:19:enabled"]],["image_path",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:12:image_path","/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:20:image_path"]],["position",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:13:position"]],["scale_percentage",["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json:15:scale_percentage"]],["SOURCE_FOLDER",["8d6d146870cb"]],["DEST_FOLDER",["73e5243c2f0a"]],["MAX_SIZE",["45ab630136ad"]],["JPEG_QUALITY",["ab968e6a895c"]],["ImageCompressorHandler",["6bed0f6cc077"]],["process_image",["a03d49affec2","e96faab29dfe","8b22c7ac6c0b","8687fa267713"]],["retries",["cb85db84a047"]],["file_size_kb",["b6b6fea970dd"]],["ImageDraw",["8acdb0f478f3"]],["ImageFont",["f3d600f5f71c"]],["width",["f88a7b0bbc01"]],["height",["90d23b21a73e"]],["draw",["571e05d99d1b"]],["text",["6fb0c38126a2"]],["font",["742decaf56fb","d94b75e52d69","d94b75e52d69","742decaf56fb"]],["stroke_width",["280089381c03"]],["shutil",["7081797faaa2"]],["List",["63d2f12df999"]],["Optional",["8486a6da899d"]],["datetime",["e1848844071d"]],["FastAPI",["e005cfd09d0d"]],["HTTPException",["0545f94900ed"]],["Body",["38de2fe45fb4"]],["Request",["4f72100dc115"]],["StaticFiles",["f952fa31f292"]],["HTMLResponse",["25fd03289e9f"]],["JSONResponse",["a88a9b22e18b"]],["Jinja2Templates",["542b7ecc7f9e"]],["CORSMiddleware",["b6400514742a"]],["BaseModel",["d4f657cbb950"]],["logger",["74396bc2cafd"]],["CONFIG",["903dfb857a52"]],["load_history",["0bf05c191007"]],["save_history",["f883aef0c86b"]],["update_history",["503a10918b7c"]],["history",["09fb73190e10","09fb73190e10"]],["processed_filename",["74f3e16aa907","74f3e16aa907"]],["get_file_history",["15cef8694696"]],["load_assets",["8291de383f41","ff776931ddd1"]],["wm_conf",["ddab1b8abe90","ddab1b8abe90"]],["brightness_factor",["cfcc10d74d22"]],["enhancer",["0260a4df4b43"]],["app",["815afe855213"]],["templates",["cefd06fb75ab"]],["PublishRequest",["eb2722825a5d"]],["exposure",["f34793fd2bf4","f34793fd2bf4"]],["RejectRequest",["fb7785542b27"]],["BatchPublishRequest",["be5a75293f3a"]],["filenames",["2739bdd49e29"]],["ArchiveRequest",["2492e4e5c78b"]],["UnpublishRequest",["5077fab11f55"]],["folder",["426e8b89154d","426e8b89154d","426e8b89154d"]],["dashboard",["c64bfb3488a6","5d94c9349702"]],["gallery",["18138208cbe8","d965c8b5fb51"]],["get_buffer_images",["dc550f4005da","e53ef7b853ab"]],["path",["566bff22c034","566bff22c034"]],["stat",["ac4508c2e3de","ac4508c2e3de"]],["ts",["3f1d4cba7f4b","3f1d4cba7f4b"]],["hist",["bed841bbaf0a","bed841bbaf0a"]],["get_live_images",["804f0d99e94b","05609680b80f"]],["publish_image",["093ecd3032e9","bd92b97ba96a"]],["source_path",["3fea2533cd29","3fea2533cd29"]],["dest_path",["e16d72b5fc16","e16d72b5fc16"]],["batch_publish_images",["1a2cb1a65a7f","646a47ad4f52"]],["success_count",["9ae6f6107301"]],["errors",["9c0a4397a2de"]],["archive_image",["1563bdb577a7","e789d5361625"]],["src",["7b1588846042","7b1588846042"]],["dst",["c8b14148c416","c8b14148c416"]],["reject_image",["4b8285e05b5b","ccfc02980818"]],["unpublish_image",["cf79e3d6b840","d0926b749956"]],["target_filename",["8119d710278c"]],["target",["ba37c01dc32d"]],["uvicorn",["6b3bedcd47f7"]]],"fileHashes":[["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","c3258cd0d4ff22b82107927a5ae67eb3"],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/config.json","10ffe258bed5afbdc50efeac3494e9f3"],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress.py","5a80e633643c65355df67c7caf74f04d"],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/generate_watermark.py","ad29ae7d521e06526d326c974a85e2d5"],["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","027541901d56cdaeb9828a1463bdc9e6"]],"relations":{"relations":[["calls_b568c0b14678_382e5b34771a",{"id":"calls_b568c0b14678_382e5b34771a","sourceSymbol":"b568c0b14678","targetSymbol":"382e5b34771a","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/auto_compress_v2.py","range":{"start":{"line":232,"character":13},"end":{"line":232,"character":14}}},"confidence":1}],["calls_503a10918b7c_0bf05c191007",{"id":"calls_503a10918b7c_0bf05c191007","sourceSymbol":"503a10918b7c","targetSymbol":"0bf05c191007","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":69,"character":14},"end":{"line":69,"character":15}}},"confidence":1}],["calls_503a10918b7c_f883aef0c86b",{"id":"calls_503a10918b7c_f883aef0c86b","sourceSymbol":"503a10918b7c","targetSymbol":"f883aef0c86b","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":82,"character":4},"end":{"line":82,"character":5}}},"confidence":1}],["calls_15cef8694696_0bf05c191007",{"id":"calls_15cef8694696_0bf05c191007","sourceSymbol":"15cef8694696","targetSymbol":"0bf05c191007","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":85,"character":14},"end":{"line":85,"character":15}}},"confidence":1}],["calls_dc550f4005da_15cef8694696",{"id":"calls_dc550f4005da_15cef8694696","sourceSymbol":"dc550f4005da","targetSymbol":"15cef8694696","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":273,"character":23},"end":{"line":273,"character":24}}},"confidence":1}],["calls_804f0d99e94b_15cef8694696",{"id":"calls_804f0d99e94b_15cef8694696","sourceSymbol":"804f0d99e94b","targetSymbol":"15cef8694696","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":303,"character":23},"end":{"line":303,"character":24}}},"confidence":1}],["calls_093ecd3032e9_503a10918b7c",{"id":"calls_093ecd3032e9_503a10918b7c","sourceSymbol":"093ecd3032e9","targetSymbol":"503a10918b7c","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":331,"character":8},"end":{"line":331,"character":9}}},"confidence":1}],["calls_093ecd3032e9_cdd47d40fa46",{"id":"calls_093ecd3032e9_cdd47d40fa46","sourceSymbol":"093ecd3032e9","targetSymbol":"cdd47d40fa46","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":333,"character":8},"end":{"line":333,"character":9}}},"confidence":1}],["calls_1a2cb1a65a7f_503a10918b7c",{"id":"calls_1a2cb1a65a7f_503a10918b7c","sourceSymbol":"1a2cb1a65a7f","targetSymbol":"503a10918b7c","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":351,"character":12},"end":{"line":351,"character":13}}},"confidence":1}],["calls_1a2cb1a65a7f_cdd47d40fa46",{"id":"calls_1a2cb1a65a7f_cdd47d40fa46","sourceSymbol":"1a2cb1a65a7f","targetSymbol":"cdd47d40fa46","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":356,"character":4},"end":{"line":356,"character":5}}},"confidence":1}],["calls_cf79e3d6b840_503a10918b7c",{"id":"calls_cf79e3d6b840_503a10918b7c","sourceSymbol":"cf79e3d6b840","targetSymbol":"503a10918b7c","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":397,"character":12},"end":{"line":397,"character":13}}},"confidence":1}],["calls_cf79e3d6b840_cdd47d40fa46",{"id":"calls_cf79e3d6b840_cdd47d40fa46","sourceSymbol":"cf79e3d6b840","targetSymbol":"cdd47d40fa46","relationType":"calls","location":{"uri":"file:///Users/nomisas/.gemini/antigravity/scratch/live-event-photography/server.py","range":{"start":{"line":398,"character":12},"end":{"line":398,"character":13}}},"confidence":1}]],"fileToEdges":[["/Users/nomisas/.gemini/antigravity/scratch/live-event-photography",["b568c0b14678382e5b34771a:calls","503a10918b7c0bf05c191007:calls","503a10918b7cf883aef0c86b:calls","15cef86946960bf05c191007:calls","dc550f4005da15cef8694696:calls","804f0d99e94b15cef8694696:calls","093ecd3032e9503a10918b7c:calls","093ecd3032e9cdd47d40fa46:calls","1a2cb1a65a7f503a10918b7c:calls","1a2cb1a65a7fcdd47d40fa46:calls","cf79e3d6b840503a10918b7c:calls","cf79e3d6b840cdd47d40fa46:calls"]]],"fileHashes":[]},"reverseImportIndex":[]}